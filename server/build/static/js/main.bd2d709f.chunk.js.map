{"version":3,"sources":["store/types.ts","assets/github.svg","assets/linkedin.svg","assets/google.svg","store/slices/userSlice.ts","components/Button.tsx","components/Header.tsx","components/Layout.tsx","components/PrivateRoute.tsx","components/Paper.tsx","assets/signout.svg","store/hooks.ts","services/authApi.ts","pages/Account.tsx","utils/hasOwnProperty.ts","assets/laptop.png","components/HomeDescription.tsx","assets/code.svg","assets/chart.svg","pages/Home.tsx","assets/accuracy.svg","assets/error.svg","assets/keyboard.svg","assets/restart.svg","assets/speed.svg","assets/start.svg","components/CustomModal.tsx","components/Badge.tsx","components/DifficultyBadge.tsx","components/LessonKeyboardKey.tsx","components/LessonKeyboard.tsx","services/lessonApi.ts","services/sectionApi.ts","utils/escapeSpecialChars.ts","pages/Lesson.tsx","hooks/useSyncState.ts","hooks/useKeyboardInput.ts","hooks/useCounter.ts","assets/close.svg","components/PercentageBadge.tsx","components/LessonCard.tsx","hooks/useDelayedQuery.ts","assets/empty.png","pages/Lessons.tsx","assets/avgSpeed.svg","assets/lesson.svg","assets/topSpeed.svg","assets/upload.svg","components/ProfileStatItem.tsx","services/userApi.ts","pages/Profile.tsx","assets/css.svg","assets/js.svg","assets/react.svg","assets/ts.svg","components/SectionCard.tsx","pages/Sections.tsx","pages/Text.tsx","utils/removeSpaces.ts","App.tsx","store/index.ts","index.tsx"],"names":["LoadingState","initialState","data","loadingState","NEVER","fetchGetMe","createAsyncThunk","_","a","rejectWithValue","fetch","method","headers","Accept","credentials","response","json","user","message","userSlice","createSlice","name","reducers","setUserData","state","action","payload","setUserLoadingState","extraReducers","builder","addCase","fulfilled","type","LOADED","pending","LOADING","rejected","ERROR","actions","selectUserData","selectUserLoadingState","Button","children","variant","fullWidth","disabled","onClick","className","Header","useSelector","userLoadingState","to","CLEARED","width","height","src","imageUrl","alt","googleIcon","Layout","href","target","rel","githubIcon","linkedinIcon","PrivateRoute","rest","render","location","pathname","from","Paper","useAppDispatch","useDispatch","authApi","createApi","reducerPath","tagTypes","baseQuery","fetchBaseQuery","baseUrl","refetchOnMountOrArgChange","endpoints","signIn","mutation","query","body","url","invalidatesTags","getMe","useSignInMutation","useGetMeQuery","Account","dispatch","responseSuccessGoogle","tokenId","result","prop","hasOwnProperty","console","log","data-testid","email","clientId","onLogoutSuccess","Cookies","remove","renderProps","signoutIcon","buttonText","theme","onSuccess","onFailure","cookiePolicy","HomeDescription","title","value","icon","Home","laptopImg","codeIcon","chartIcon","CustomModal","isOpen","setIsOpen","shouldCloseOnOverlayClick","maxWidth","customStyles","overlay","zIndex","backgroundColor","content","top","left","right","bottom","marginRight","transform","border","closeTimeoutMS","onRequestClose","style","contentLabel","ariaHideApp","Badge","color","size","DifficultyBadge","difficulty","toUpperCase","slice","LessonKeyboardKey","customKeyClass","isDual","keyClass","toLowerCase","LessonKeyboard","isLessonEnded","lesson","useRef","lastKey","handleKeyEvent","e","callback","current","Array","forEach","ul","li","classList","contains","key","ref","onKeyDown","add","onKeyUp","lessonApi","getLesson","id","getRandomLessonId","sectionId","createAttempt","useGetLessonQuery","useGetRandomLessonIdQuery","useCreateAttemptMutation","sectionApi","getSections","getSectionById","useGetSectionsQuery","useGetSectionByIdQuery","escapeSpecialChars","str","replace","Lesson","params","useParams","lessonId","invisibleInput","lessonCode","useState","isOpenModal","setIsOpenModal","indicators","updateState","get","set","newState","useSyncState","wpm","accuracy","currentChar","setCurrentChar","total","wrong","typed","setTyped","setIsLessonEnded","changeCurrentChar","newVal","scrollIntoView","block","behavior","cleanUp","s","i","useEffect","handleInput","chars","currCharIndex","indexOf","isError","skippedChars","textContent","prev","useKeyboardInput","counter","isActive","second","minute","time","setCounter","handleChangeCounter","newTime","String","Math","floor","computedSecond","length","computedMinute","timerId","setTimeout","clearTimeout","restartCounter","useCounter","toFixed","_id","numberOfErrors","then","initiate","subscribe","forceRefetch","window","reload","restartIcon","measure","speedIcon","accuracyIcon","keyboardIcon","errorIcon","code","split","map","char","onBlur","focus","startIcon","Indicator","PercentageBadge","LessonCard","source","sourceCode","avgAccuracy","lines","closeIcon","DetailsBtn","xmlns","viewBox","fill","aria-hidden","fillRule","d","clipRule","LessonCardPreloader","useDelayedQuery","queryArg","ms","delay","setDelay","skip","handler","Lessons","section","lessons","emptyImg","v","ProfileStatItem","ProfileStatItemPreloader","userApi","getUserProfile","useGetUserProfileQuery","Profile","profile","totalTime","uploadIcon","totalLessons","lessonIcon","topSpeed","topSpeedIcon","averageSpeed","avgSeedIcon","ResponsiveContainer","LineChart","typingChart","margin","cursor","CartesianGrid","XAxis","dataKey","YAxis","unit","Tooltip","Line","stroke","strokeWidth","SectionCard","route","description","iconStyle","random","SectionCardPreloader","Sections","sections","getIconStyle","jsIcon","tsIcon","cssIcon","reactIcon","Text","setValue","tabIndex","preventDefault","onChange","cols","rows","res","JSON","stringify","removeSpaces","App","path","store","configureStore","reducer","userReducer","middleware","getDefaultMiddleware","concat","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.bd2d709f.chunk.js","sourcesContent":["export interface ISection {\r\n  _id: string;\r\n  name: string;\r\n  route: string;\r\n  description: string;\r\n}\r\n\r\nexport interface ISectionWithLesson extends ISection {\r\n  lessons: ILesson[];\r\n}\r\n\r\nexport interface ILesson {\r\n  _id: string;\r\n  name: string;\r\n  code: string;\r\n  difficulty: 'easy' | 'medium' | 'hard';\r\n  lines: number;\r\n  source: string;\r\n  sourceCode: string;\r\n  avgAccuracy: number;\r\n}\r\n\r\nexport interface IAttempt {\r\n  _id: string;\r\n  accuracy: number;\r\n  wpm: number;\r\n  time: number;\r\n  numberOfErrors: number;\r\n}\r\n\r\nexport interface ICreateAttempt extends Omit<IAttempt, '_id'> {\r\n  lesson: string;\r\n}\r\n\r\nexport interface IProfile {\r\n  totalTime: string;\r\n  totalLessons: number;\r\n  topSpeed: number;\r\n  averageSpeed: number;\r\n  typingChart: { lessonNumber: number; wpm: number }[];\r\n}\r\n\r\nexport interface IUser {\r\n  googleId: string;\r\n  email: string;\r\n  name: string;\r\n  imageUrl: string;\r\n}\r\n\r\nexport enum LoadingState {\r\n  LOADED = 'LOADED',\r\n  LOADING = 'LOADING',\r\n  ERROR = 'ERROR',\r\n  NEVER = 'NEVER',\r\n  CLEARED = 'CLEARED',\r\n}\r\n","export default __webpack_public_path__ + \"static/media/github.e0df113a.svg\";","export default __webpack_public_path__ + \"static/media/linkedin.8861cb0e.svg\";","export default __webpack_public_path__ + \"static/media/google.e292aba4.svg\";","import { IUser, LoadingState } from './../types';\r\nimport { RootState } from './../index';\r\nimport { createAsyncThunk, createSlice, PayloadAction } from '@reduxjs/toolkit';\r\n\r\nexport type UserSliceState = {\r\n  data: IUser | null;\r\n  loadingState: LoadingState;\r\n};\r\n\r\nconst initialState: UserSliceState = {\r\n  data: null,\r\n  loadingState: LoadingState.NEVER,\r\n};\r\n\r\nexport const fetchGetMe = createAsyncThunk<IUser>(\r\n  'user/fetchGetMe',\r\n  async (_, { rejectWithValue }) => {\r\n    try {\r\n      const response = await fetch('/api/auth', {\r\n        method: 'GET',\r\n        headers: {\r\n          Accept: 'application/json, text/plain, */*',\r\n          'Content-Type': 'application/json',\r\n        },\r\n        credentials: 'include',\r\n      });\r\n      const user = await response.json();\r\n      if (user.message === 'Unauthorized') return rejectWithValue(user.message);\r\n      return user;\r\n    } catch (err) {\r\n      rejectWithValue(err);\r\n    }\r\n  }\r\n);\r\n\r\nexport const userSlice = createSlice({\r\n  name: 'user',\r\n  initialState,\r\n  reducers: {\r\n    setUserData: (state, action: PayloadAction<UserSliceState['data']>) => {\r\n      state.data = action.payload;\r\n    },\r\n    setUserLoadingState: (state, action: PayloadAction<LoadingState>) => {\r\n      state.loadingState = action.payload;\r\n    },\r\n  },\r\n  extraReducers: (builder) =>\r\n    builder\r\n      .addCase(fetchGetMe.fulfilled.type, (state, action: PayloadAction<IUser>) => {\r\n        state.data = action.payload;\r\n        state.loadingState = LoadingState.LOADED;\r\n      })\r\n      .addCase(fetchGetMe.pending.type, (state) => {\r\n        state.loadingState = LoadingState.LOADING;\r\n      })\r\n      .addCase(fetchGetMe.rejected.type, (state) => {\r\n        state.loadingState = LoadingState.ERROR;\r\n      }),\r\n});\r\n\r\nexport const { setUserData, setUserLoadingState } = userSlice.actions;\r\n\r\nexport const selectUserData = (state: RootState) => state.user.data;\r\nexport const selectUserLoadingState = (state: RootState) => state.user.loadingState;\r\n\r\nexport default userSlice.reducer;\r\n","import React from 'react';\r\n\r\ntype PropsType = {\r\n  variant?: 'primary' | 'secondary';\r\n  onClick?: () => void;\r\n  className?: string;\r\n  fullWidth?: boolean;\r\n  disabled?: boolean;\r\n};\r\n\r\nexport const Button: React.FC<PropsType> = ({\r\n  children,\r\n  variant = 'primary',\r\n  fullWidth,\r\n  disabled = false,\r\n  onClick,\r\n  className,\r\n}) => {\r\n  return (\r\n    <button\r\n      onClick={onClick}\r\n      disabled={disabled}\r\n      className={`flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-base font-medium ${\r\n        variant === 'primary'\r\n          ? 'text-white bg-indigo-600 hover:bg-indigo-700'\r\n          : 'text-indigo-700 bg-indigo-100 hover:bg-indigo-200'\r\n      } ${fullWidth ? 'w-full' : ''}  ${className ? className : ''} disabled:bg-gray-500`}\r\n    >\r\n      {children}\r\n    </button>\r\n  );\r\n};\r\n","import googleIcon from 'assets/google.svg';\r\nimport React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { selectUserData, selectUserLoadingState } from 'store/slices/userSlice';\r\nimport { LoadingState } from 'store/types';\r\nimport { Button } from './Button';\r\n\r\nexport const Header = () => {\r\n  const user = useSelector(selectUserData);\r\n  const userLoadingState = useSelector(selectUserLoadingState);\r\n\r\n  return (\r\n    <header className=\"fixed w-full z-10 top-0 py-3 bg-white shadow-sm\">\r\n      <nav className=\"max-w-7xl mx-auto\">\r\n        <div className=\"flex justify-between px-4\">\r\n          <div className=\"flex items-center\">\r\n            <Link to=\"/\">\r\n              <div className=\"hover:text-indigo-700 text-indigo-600 text-4xl font-bold py-2\">\r\n                quickcode\r\n              </div>\r\n            </Link>\r\n          </div>\r\n          {userLoadingState === LoadingState.LOADED ||\r\n          userLoadingState === LoadingState.ERROR ||\r\n          userLoadingState === LoadingState.CLEARED ? (\r\n            <div className=\"flex flex-row items-center text-lg font-medium text-gray-500\">\r\n              <Link to=\"/lessons\">\r\n                <div className=\"mr-4 hover:text-gray-900\">LESSONS</div>\r\n              </Link>\r\n              <Link to=\"/profile\">\r\n                <div className=\"mr-4 hover:text-gray-900\">PROFILE</div>\r\n              </Link>\r\n              <Link to=\"/account\">\r\n                {user ? (\r\n                  <div>\r\n                    <img\r\n                      className=\"rounded-full\"\r\n                      width={52}\r\n                      height={52}\r\n                      src={user.imageUrl}\r\n                      alt=\"google profile icon\"\r\n                    />\r\n                  </div>\r\n                ) : (\r\n                  <Button className=\"px-6 my-1\">\r\n                    <img src={googleIcon} alt=\"google icon\" />\r\n                    <span className=\"ml-3\">SIGN IN</span>\r\n                  </Button>\r\n                )}\r\n              </Link>\r\n            </div>\r\n          ) : null}\r\n        </div>\r\n      </nav>\r\n    </header>\r\n  );\r\n};\r\n","import githubIcon from 'assets/github.svg';\r\nimport linkedinIcon from 'assets/linkedin.svg';\r\nimport React from 'react';\r\nimport { Header } from './Header';\r\n\r\nexport const Layout: React.FC = ({ children }) => {\r\n  return (\r\n    <div className=\"h-full min-h-screen bg-gray-200 leading-normal tracking-normal flex flex-col\">\r\n      <Header />\r\n      <div className=\"max-w-7xl mx-auto mt-20 px-4 mb-auto w-full\">{children}</div>\r\n      <footer className=\"py-4 bg-white shadow-sm\">\r\n        <div className=\"max-w-7xl mx-auto w-full flex items-center justify-between px-4\">\r\n          <h5 className=\"text-gray-500 font-medium text-lg\">\r\n            Â© 2021 quickcode. All rights reserved\r\n          </h5>\r\n          <div className=\"flex items-center\">\r\n            <a href=\"https://github.com/VHarastei\" target=\"_blank\" rel=\"noreferrer\">\r\n              <img\r\n                className=\"opacity-50 hover:opacity-100 ml-2\"\r\n                width={32}\r\n                height={32}\r\n                src={githubIcon}\r\n                alt=\"github icon\"\r\n              />\r\n            </a>\r\n            <a\r\n              href=\"https://www.linkedin.com/in/vasyl-harastei-869769186/\"\r\n              target=\"_blank\"\r\n              rel=\"noreferrer\"\r\n            >\r\n              <img\r\n                className=\"opacity-50 hover:opacity-100 ml-2\"\r\n                width={32}\r\n                height={32}\r\n                src={linkedinIcon}\r\n                alt=\"linkedin icon\"\r\n              />\r\n            </a>\r\n          </div>\r\n        </div>\r\n      </footer>\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { Redirect, Route, RouteProps } from 'react-router-dom';\r\nimport { selectUserLoadingState } from 'store/slices/userSlice';\r\nimport { LoadingState } from 'store/types';\r\n\r\nexport function PrivateRoute({ children, ...rest }: RouteProps) {\r\n  const loadingState = useSelector(selectUserLoadingState);\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={({ location }) =>\r\n        loadingState === LoadingState.ERROR || loadingState === LoadingState.CLEARED ? (\r\n          <Redirect\r\n            to={{\r\n              pathname: '/account',\r\n              state: { from: location },\r\n            }}\r\n          />\r\n        ) : (\r\n          children\r\n        )\r\n      }\r\n    />\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\ntype PropsType = {\r\n  className?: string;\r\n};\r\n\r\nexport const Paper: React.FC<PropsType> = ({ children, className }) => {\r\n  return (\r\n    <div className={`w-full p-4 rounded-md shadow-sm bg-white ${className ? className : ''}`}>\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n","export default __webpack_public_path__ + \"static/media/signout.a6eede60.svg\";","import { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux';\r\nimport type { RootState, AppDispatch } from './index';\r\n\r\n// Use throughout your app instead of plain `useDispatch` and `useSelector`\r\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\r\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\r\n","import { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react';\r\nimport { IUser } from './../store/types';\r\n\r\nexport const authApi = createApi({\r\n  reducerPath: 'authApi',\r\n  tagTypes: ['User'],\r\n  baseQuery: fetchBaseQuery({ baseUrl: '/api/auth' }),\r\n  refetchOnMountOrArgChange: true,\r\n  endpoints: (builder) => ({\r\n    signIn: builder.mutation<IUser, { tokenId: string }>({\r\n      query: (body) => ({\r\n        url: '',\r\n        method: 'POST',\r\n        body,\r\n        credentials: 'include',\r\n      }),\r\n      invalidatesTags: ['User'],\r\n    }),\r\n    getMe: builder.query<IUser, null>({\r\n      query: () => ({\r\n        url: '',\r\n        credentials: 'include',\r\n      }),\r\n    }),\r\n  }),\r\n});\r\n\r\nexport const { useSignInMutation, useGetMeQuery } = authApi;\r\n","import { Button } from 'components/Button';\r\nimport { Paper } from 'components/Paper';\r\nimport React from 'react';\r\nimport GoogleLogin, { GoogleLogout } from 'react-google-login';\r\nimport signoutIcon from 'assets/signout.svg';\r\nimport { useAppDispatch } from 'store/hooks';\r\nimport { useSignInMutation } from 'services/authApi';\r\nimport { selectUserData, setUserData, setUserLoadingState } from 'store/slices/userSlice';\r\nimport { useSelector } from 'react-redux';\r\nimport { hasOwnProperty } from 'utils/hasOwnProperty';\r\nimport Cookies from 'js-cookie';\r\nimport { LoadingState } from 'store/types';\r\n\r\nexport const Account = () => {\r\n  const [signIn] = useSignInMutation();\r\n  const dispatch = useAppDispatch();\r\n  const user = useSelector(selectUserData);\r\n\r\n  const responseSuccessGoogle = async (response: any) => {\r\n    try {\r\n      const result = await signIn({ tokenId: response.tokenId });\r\n      if (hasOwnProperty(result, 'data')) {\r\n        dispatch(setUserData(result.data));\r\n        dispatch(setUserLoadingState(LoadingState.LOADED));\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n      dispatch(setUserLoadingState(LoadingState.ERROR));\r\n    }\r\n  };\r\n  const responseErrorGoogle = (response: any) => {};\r\n\r\n  const handleLogoutSuccess = () => {\r\n    Cookies.remove('token');\r\n    dispatch(setUserData(null));\r\n    dispatch(setUserLoadingState(LoadingState.CLEARED));\r\n  };\r\n\r\n  return (\r\n    <div data-testid=\"home\">\r\n      <h1 className=\"mt-4 mb-6 text-center text-5xl font-bold text-indigo-600\">Account</h1>\r\n\r\n      <Paper>\r\n        {user ? (\r\n          <div>\r\n            <div className=\"flex items-center justify-between\">\r\n              <div className=\"flex items-center\">\r\n                <img\r\n                  className=\"rounded-full\"\r\n                  width={96}\r\n                  height={96}\r\n                  src={user.imageUrl}\r\n                  alt=\"google profile icon\"\r\n                />\r\n                <div className=\"ml-4\">\r\n                  <h4 className=\"text-3xl font-semibold text-gray-700\">{user.name}</h4>\r\n                  <h6 className=\"text-2xl font-semibold text-gray-500\">{user.email}</h6>\r\n                </div>\r\n              </div>\r\n              <div>\r\n                <GoogleLogout\r\n                  clientId=\"192216114574-6vvglitrjul91ksp3mn462c5ou95n0ft.apps.googleusercontent.com\"\r\n                  onLogoutSuccess={handleLogoutSuccess}\r\n                  render={(renderProps) => (\r\n                    <Button\r\n                      onClick={renderProps.onClick}\r\n                      disabled={renderProps.disabled}\r\n                      className=\"px-6\"\r\n                    >\r\n                      <img src={signoutIcon} alt=\"signout icon\" />\r\n                      <span className=\"ml-2\">SIGN OUT</span>\r\n                    </Button>\r\n                  )}\r\n                />\r\n              </div>\r\n            </div>\r\n            <p className=\"text-xl font-medium text-gray-700 pt-2\">\r\n              You are using an account to store your typing data on our servers in the cloud. You\r\n              will be able to access your profile from any computer or browser.\r\n            </p>\r\n          </div>\r\n        ) : (\r\n          <div>\r\n            <p className=\"text-xl font-medium text-gray-700 py-2\">\r\n              Create an account to store your typing data on our servers in the cloud. This allows\r\n              you to access your profile from any computer or browser. If you don't have an account\r\n              then your typing data is stored locally and is accessible only from your current\r\n              computer.\r\n            </p>\r\n            <p className=\"text-xl font-medium text-gray-700\">\r\n              We don't store any passwords. Instead we use third-party services to authenticate our\r\n              users.\r\n            </p>\r\n            <div className=\"flex mb-2 mt-6 justify-center\">\r\n              <GoogleLogin\r\n                clientId=\"192216114574-6vvglitrjul91ksp3mn462c5ou95n0ft.apps.googleusercontent.com\"\r\n                buttonText=\"Sign in with Google\"\r\n                theme=\"dark\"\r\n                onSuccess={responseSuccessGoogle}\r\n                onFailure={responseErrorGoogle}\r\n                cookiePolicy={'single_host_origin'}\r\n              />\r\n            </div>\r\n          </div>\r\n        )}\r\n      </Paper>\r\n    </div>\r\n  );\r\n};\r\n","export function hasOwnProperty<X extends {}, Y extends PropertyKey>(\r\n  obj: X,\r\n  prop: Y\r\n): obj is X & Record<Y, unknown> {\r\n  return obj.hasOwnProperty(prop);\r\n}\r\n","export default __webpack_public_path__ + \"static/media/laptop.0b218297.png\";","import { Paper } from './Paper';\r\n\r\ntype PropsType = {\r\n  title: string;\r\n  value: number | string;\r\n  icon: string;\r\n};\r\n\r\nexport const HomeDescription: React.FC<PropsType> = ({ title, value, icon }) => {\r\n  return (\r\n    <Paper className=\"flex\">\r\n      <div className=\"bg-indigo-600 p-3 rounded-lg mr-4\">\r\n        <img width={36} height={36} src={icon} alt=\"stat icon\" />\r\n      </div>\r\n      <div>\r\n        <span className=\"text-2xl font-bold\">{title}</span>\r\n        <p className=\"text-lg text-gray-500 font-medium\">{value}</p>\r\n      </div>\r\n    </Paper>\r\n  );\r\n};\r\n","export default __webpack_public_path__ + \"static/media/code.9866ea0c.svg\";","export default __webpack_public_path__ + \"static/media/chart.4a87ab3e.svg\";","import React from 'react';\r\nimport laptopImg from 'assets/laptop.png';\r\nimport { HomeDescription } from 'components/HomeDescription';\r\nimport codeIcon from 'assets/code.svg';\r\nimport chartIcon from 'assets/chart.svg';\r\nimport { Button } from 'components/Button';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport const Home = () => {\r\n  return (\r\n    <div data-testid=\"home\">\r\n      <h1 className=\"mt-4 mb-2 text-center text-5xl font-bold text-indigo-600\">\r\n        Typing Practice for Frontend Developers\r\n      </h1>\r\n      <img src={laptopImg} alt=\"preview img\" width=\"60%\" className=\"m-auto\" />\r\n      <div className=\"flex gap-4\">\r\n        <HomeDescription\r\n          title=\"Source code\"\r\n          value=\"Choose from: JavaScript, TypeScript, CSS, React\"\r\n          icon={codeIcon}\r\n        />\r\n        <HomeDescription\r\n          title=\"Typing speed\"\r\n          value=\"Increase your Typing Speed & Accuracy\"\r\n          icon={chartIcon}\r\n        />\r\n      </div>\r\n      <div className=\"mt-6 flex flex-col items-center\">\r\n        <h3 className=\"text-3xl font-bold text-indigo-600 text-center\">It's free, just sign in.</h3>\r\n        <Link to=\"/account\">\r\n          <Button className=\"px-6 my-3 text-xl\">Sign in with Google</Button>\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","export default __webpack_public_path__ + \"static/media/accuracy.f1c87661.svg\";","export default __webpack_public_path__ + \"static/media/error.17ca952d.svg\";","export default __webpack_public_path__ + \"static/media/keyboard.cf1160cc.svg\";","export default __webpack_public_path__ + \"static/media/restart.c416dbc2.svg\";","export default __webpack_public_path__ + \"static/media/speed.4318be64.svg\";","export default __webpack_public_path__ + \"static/media/start.53fe4eb8.svg\";","import React from 'react';\r\nimport Modal from 'react-modal';\r\n\r\ntype PropsType = {\r\n  isOpen: boolean;\r\n  setIsOpen: (a: boolean) => void;\r\n  shouldCloseOnOverlayClick?: boolean;\r\n  maxWidth?: number;\r\n};\r\n\r\nexport const CustomModal: React.FC<PropsType> = ({\r\n  children,\r\n  isOpen,\r\n  setIsOpen,\r\n  shouldCloseOnOverlayClick = true,\r\n  maxWidth = 768,\r\n}) => {\r\n  const customStyles = {\r\n    overlay: {\r\n      zIndex: 1,\r\n      backgroundColor: '#00000055',\r\n    },\r\n    content: {\r\n      maxWidth: `${maxWidth}px`,\r\n      width: '100%',\r\n      top: '50%',\r\n      left: '50%',\r\n      right: 'auto',\r\n      bottom: 'auto',\r\n      marginRight: '-50%',\r\n      transform: 'translate(-50%, -50%)',\r\n      border: 'none',\r\n    },\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      closeTimeoutMS={150}\r\n      shouldCloseOnOverlayClick={shouldCloseOnOverlayClick}\r\n      isOpen={isOpen}\r\n      onRequestClose={() => setIsOpen(false)}\r\n      style={customStyles}\r\n      contentLabel=\"Modal\"\r\n      ariaHideApp={false}\r\n    >\r\n      {children}\r\n    </Modal>\r\n  );\r\n};\r\n","import React from 'react';\r\n\r\ntype PropsType = {\r\n  color: string;\r\n  value: string;\r\n  size?: 'normal' | 'large';\r\n};\r\n\r\nexport const Badge: React.FC<PropsType> = ({ value, color, size = 'normal' }) => {\r\n  return (\r\n    <div\r\n      className={`flex items-center ${\r\n        size === 'normal' ? 'text-sm px-3' : 'text-lg px-4 py-0.5'\r\n      } bg-${color}-200 text-${color}-800 rounded-full font-semibold`}\r\n    >\r\n      {value}\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { Badge } from './Badge';\r\n\r\ntype PropsType = {\r\n  difficulty: string;\r\n  size?: 'normal' | 'large';\r\n};\r\n\r\nexport const DifficultyBadge: React.FC<PropsType> = ({ difficulty, size }) => {\r\n  return (\r\n    <Badge\r\n      color={difficulty === 'easy' ? 'green' : difficulty === 'medium' ? 'yellow' : 'red'}\r\n      value={difficulty[0].toUpperCase() + difficulty.slice(1)}\r\n      size={size}\r\n    />\r\n  );\r\n};\r\n","import React from 'react';\r\n\r\ntype PropsType = {\r\n  value: string | string[];\r\n  customKeyClass?: string | string[];\r\n  className?: string;\r\n};\r\n\r\nexport const LessonKeyboardKey: React.FC<PropsType> = ({ value, customKeyClass, className }) => {\r\n  const isDual = typeof value !== typeof 'string';\r\n  const keyClass = isDual ? `key-${value[0]} key-${value[1]}` : `key-${value}`;\r\n  return (\r\n    <li\r\n      className={`${customKeyClass ? customKeyClass : keyClass.toLowerCase()} ${\r\n        className ? className : ''\r\n      } flex items-center flex-col justify-center w-12 h-12 bg-white m-0.5`}\r\n    >\r\n      {!isDual ? (\r\n        `${value}`\r\n      ) : (\r\n        <>\r\n          <span>{`${value[0]}`}</span>\r\n          <span>{`${value[1]}`}</span>\r\n        </>\r\n      )}\r\n    </li>\r\n  );\r\n};\r\n","import React, { KeyboardEvent, useRef } from 'react';\r\nimport { LessonKeyboardKey as Key } from './LessonKeyboardKey';\r\n\r\ntype PropsType = {\r\n  isLessonEnded: boolean;\r\n};\r\n\r\nexport const LessonKeyboard: React.FC<PropsType> = ({ isLessonEnded, children }) => {\r\n  const lesson = useRef<null | HTMLDivElement>(null);\r\n  const lastKey = useRef<null | any>(null);\r\n  // const handleKeyDown = (e: KeyboardEvent<HTMLDivElement>) => {\r\n  //   if (!lesson.current) return;\r\n  //   const location = e.location;\r\n  //   Array.from(lesson.current.children[1].children).forEach((ul) => {\r\n  //     Array.from(ul.children).forEach((li) => {\r\n  //       if (\r\n  //         li.classList.contains(\r\n  //           `key-${`${e.key.toLowerCase()}${!!location ? `-${location}` : ''}`}`\r\n  //         ) ||\r\n  //         (e.key === ' ' && li.classList.contains('key-space'))\r\n  //       ) {\r\n  //         li.classList.add('bg-keyBlack');\r\n  //         li.classList.add('text-white');\r\n  //       }\r\n  //     });\r\n  //   });\r\n  // };\r\n  // const handleKeyUp = (e: KeyboardEvent<HTMLDivElement>) => {\r\n  //   if (!lesson.current) return;\r\n  //   const location = e.location;\r\n  //   Array.from(lesson.current.children[1].children).forEach((ul) => {\r\n  //     Array.from(ul.children).forEach((li) => {\r\n  //       if (\r\n  //         li.classList.contains(\r\n  //           `key-${`${e.key.toLowerCase()}${!!location ? `-${location}` : ''}`}`\r\n  //         ) ||\r\n  //         (e.key === ' ' && li.classList.contains('key-space'))\r\n  //       ) {\r\n  //         li.classList.remove('bg-keyBlack');\r\n  //         li.classList.remove('text-white');\r\n  //       }\r\n  //     });\r\n  //   });\r\n  // };\r\n\r\n  const handleKeyEvent = (e: KeyboardEvent<HTMLDivElement>, callback: (li: Element) => void) => {\r\n    if (!lesson.current || !lesson.current.children[1]) return;\r\n    const location = e.location;\r\n\r\n    Array.from(lesson.current.children[1].children).forEach((ul) => {\r\n      Array.from(ul.children).forEach((li) => {\r\n        if (\r\n          li.classList.contains(\r\n            `key-${`${e.key.toLowerCase()}${!!location ? `-${location}` : ''}`}`\r\n          ) ||\r\n          (e.key === ' ' && li.classList.contains('key-space'))\r\n        ) {\r\n          callback(li);\r\n        }\r\n      });\r\n    });\r\n  };\r\n\r\n  const handleKeyDown = (e: KeyboardEvent<HTMLDivElement>) => {\r\n    handleKeyEvent(e, (li) => {\r\n      lastKey.current = li;\r\n      li.classList.add('bg-indigo-800');\r\n      li.classList.add('text-white');\r\n    });\r\n  };\r\n\r\n  const handleKeyUp = (e: KeyboardEvent<HTMLDivElement>) => {\r\n    handleKeyEvent(e, (li) => {\r\n      li.classList.remove('bg-indigo-800');\r\n      li.classList.remove('text-white');\r\n    });\r\n  };\r\n  if (isLessonEnded) {\r\n    let li = lastKey.current;\r\n    li.classList.remove('bg-indigo-800');\r\n    li.classList.remove('text-white');\r\n  }\r\n\r\n  return (\r\n    <div data-testid=\"keyboard\" ref={lesson} onKeyDown={handleKeyDown} onKeyUp={handleKeyUp}>\r\n      {children}\r\n      <div className=\"m-auto max-w-3.5xl w-full bg-gray-400 rounded-xl p-5 text-indigo-800\">\r\n        <ul className=\"flex text-base leading-5\">\r\n          <Key value={['~', '`']} />\r\n          <Key value={['!', '1']} />\r\n          <Key value={['@', '2']} />\r\n          <Key value={['#', '3']} />\r\n          <Key value={['$', '4']} />\r\n          <Key value={['%', '5']} />\r\n          <Key value={['^', '6']} />\r\n          <Key value={['&', '7']} />\r\n          <Key value={['*', '8']} />\r\n          <Key value={['(', '9']} />\r\n          <Key value={[')', '0']} />\r\n          <Key value={['_', '-']} />\r\n          <Key value={['+', '=']} />\r\n          <Key value=\"Backspace\" className=\"bg-gray-200 w-24\" />\r\n        </ul>\r\n        <ul className=\"flex text-base leading-5\">\r\n          <Key value=\"Tab\" className=\"bg-gray-200 w-20\" />\r\n          <Key value=\"Q\" />\r\n          <Key value=\"W\" />\r\n          <Key value=\"E\" />\r\n          <Key value=\"R\" />\r\n          <Key value=\"T\" />\r\n          <Key value=\"Y\" />\r\n          <Key value=\"U\" />\r\n          <Key value=\"I\" />\r\n          <Key value=\"O\" />\r\n          <Key value=\"P\" />\r\n          <Key value={['{', '[']} />\r\n          <Key value={['}', ']']} />\r\n          <Key value={['|', '\\\\']} className=\"w-16\" />\r\n        </ul>\r\n        <ul className=\"flex text-base leading-5\">\r\n          <Key value=\"Caps Lock\" customKeyClass=\"key-capslock\" className=\"bg-gray-200 w-24\" />\r\n          <Key value=\"A\" />\r\n          <Key value=\"S\" />\r\n          <Key value=\"D\" />\r\n          <Key value=\"F\" />\r\n          <Key value=\"G\" />\r\n          <Key value=\"H\" />\r\n          <Key value=\"J\" />\r\n          <Key value=\"K\" />\r\n          <Key value=\"L\" />\r\n          <Key value={[':', ';']} />\r\n          <Key value={['\"', \"'\"]} />\r\n          <Key value=\"Enter\" className=\"bg-gray-200 w-25\" />\r\n        </ul>\r\n        <ul className=\"flex text-base leading-5\">\r\n          {/* w-26 */}\r\n          <Key value=\"Shift\" customKeyClass=\"key-shift-1\" className=\"bg-gray-200 w-28\" />\r\n          <Key value=\"Z\" />\r\n          <Key value=\"X\" />\r\n          <Key value=\"C\" />\r\n          <Key value=\"V\" />\r\n          <Key value=\"B\" />\r\n          <Key value=\"N\" />\r\n          <Key value=\"M\" />\r\n          <Key value={['<', ',']} />\r\n          <Key value={['>', '.']} />\r\n          <Key value={['?', '/']} />\r\n          <Key value=\"Shift\" customKeyClass=\"key-shift-2\" className=\"bg-gray-200 w-34\" />\r\n        </ul>\r\n        <ul className=\"flex text-base leading-5\">\r\n          <Key value=\"Ctrl\" customKeyClass=\"key-control-1\" className=\"bg-gray-200 w-20\" />\r\n          <Key value=\"Alt\" customKeyClass=\"key-alt-1\" className=\"bg-gray-200 w-20\" />\r\n          <Key value=\"\" customKeyClass=\"key-space\" className=\"w-98\" />\r\n          <Key value=\"Alt\" customKeyClass=\"key-alt-2\" className=\"bg-gray-200 w-20\" />\r\n          <Key value=\"Ctrl\" customKeyClass=\"key-control-2\" className=\"bg-gray-200 w-20\" />\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react';\r\nimport { IAttempt, ICreateAttempt, ILesson } from '../store/types';\r\n\r\nexport const lessonApi = createApi({\r\n  reducerPath: 'lessonApi',\r\n  tagTypes: ['Lesson'],\r\n  baseQuery: fetchBaseQuery({ baseUrl: '/api/' }),\r\n  endpoints: (builder) => ({\r\n    getLesson: builder.query<ILesson, string>({\r\n      query: (id) => `lessons/${id}`,\r\n    }),\r\n    getRandomLessonId: builder.query<{ lessonId: string | null }, string>({\r\n      query: (sectionId) => `lessons/random/${sectionId}`,\r\n    }),\r\n    createAttempt: builder.mutation<IAttempt, ICreateAttempt>({\r\n      query: (body) => ({\r\n        url: `/attempts`,\r\n        method: 'POST',\r\n        body,\r\n      }),\r\n      invalidatesTags: ['Lesson'],\r\n    }),\r\n  }),\r\n});\r\n\r\nexport const { useGetLessonQuery, useGetRandomLessonIdQuery, useCreateAttemptMutation } = lessonApi;\r\n","import { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react';\r\nimport { ISection, ISectionWithLesson } from '../store/types';\r\n\r\nexport const sectionApi = createApi({\r\n  reducerPath: 'sectionApi',\r\n  baseQuery: fetchBaseQuery({ baseUrl: '/api/sections' }),\r\n  endpoints: (builder) => ({\r\n    getSections: builder.query<ISection[], null>({\r\n      query: () => ``,\r\n    }),\r\n    getSectionById: builder.query<ISectionWithLesson, string>({\r\n      query: (id) => `/${id}`,\r\n    }),\r\n  }),\r\n});\r\n\r\nexport const { useGetSectionsQuery, useGetSectionByIdQuery } = sectionApi;\r\n","export const escapeSpecialChars = (str: string) => str.replace(/\\\\n/g, '\\n').replace(/\\\\t/g, '\\t');\r\n","import accuracyIcon from 'assets/accuracy.svg';\r\nimport errorIcon from 'assets/error.svg';\r\nimport keyboardIcon from 'assets/keyboard.svg';\r\nimport restartIcon from 'assets/restart.svg';\r\nimport speedIcon from 'assets/speed.svg';\r\nimport startIcon from 'assets/start.svg';\r\nimport { CustomModal } from 'components/CustomModal';\r\nimport { DifficultyBadge } from 'components/DifficultyBadge';\r\nimport { LessonKeyboard } from 'components/LessonKeyboard';\r\nimport { useCounter } from 'hooks/useCounter';\r\nimport { useKeyboardInput } from 'hooks/useKeyboardInput';\r\nimport { useSyncState } from 'hooks/useSyncState';\r\nimport React, { useEffect, useRef, useState } from 'react';\r\nimport { Link, useParams } from 'react-router-dom';\r\nimport { useCreateAttemptMutation, useGetLessonQuery } from 'services/lessonApi';\r\nimport { sectionApi } from 'services/sectionApi';\r\nimport { useAppDispatch } from 'store/hooks';\r\nimport { ICreateAttempt } from 'store/types';\r\nimport { escapeSpecialChars } from 'utils/escapeSpecialChars';\r\nimport { Button } from '../components/Button';\r\nimport { Paper } from '../components/Paper';\r\n\r\n//let example =\r\n//  'class Greeter {\\n\\tpublic greet() {\\n\\t\\tconsole.log(\"Hello, \" + this.getName());\\n\\t}\\n\\tprotected getName() {\\n\\t\\treturn \"hi\";\\n\\t}\\n}\\nclass SpecialGreeter extends Greeter {\\n\\tpublic howdy() {\\n\\t\\t// OK to access protected member here\\n\\t\\tconsole.log(\"Howdy, \" + this.getName());\\n\\t}\\n}\\n\\nconst g = new SpecialGreeter();\\ng.greet(); // OK\\ng.getName();';\r\n//let example = `class Greeter {\\n\\tpublic greet() {}\\n}`;\r\n\r\nexport const Lesson: React.FC = () => {\r\n  const params: { lessonId: string; sectionId: string } = useParams();\r\n  const { data: lesson } = useGetLessonQuery(params.lessonId);\r\n  const [createAttempt] = useCreateAttemptMutation();\r\n  const dispatch = useAppDispatch();\r\n\r\n  const invisibleInput = useRef<null | HTMLInputElement>(null);\r\n  const lessonCode = useRef<null | HTMLPreElement>(null);\r\n\r\n  const [isOpenModal, setIsOpenModal] = useState(true);\r\n  const indicators = useSyncState({ wpm: 0, accuracy: 100 });\r\n\r\n  const { currentChar, setCurrentChar, typed, isLessonEnded, handleInput } =\r\n    useKeyboardInput(lessonCode);\r\n  const { counter } = useCounter(!isOpenModal && !isLessonEnded);\r\n\r\n  const startLesson = () => {\r\n    if (currentChar) {\r\n      setIsOpenModal(false);\r\n      invisibleInput?.current?.focus();\r\n      currentChar.classList.add(`bg-green-500`);\r\n      currentChar.classList.add(`text-white`);\r\n    }\r\n  };\r\n\r\n  const restartLesson = () => {\r\n    //restartCounter();\r\n    window.location.reload();\r\n  };\r\n\r\n  useEffect(() => {\r\n    // here i use custom wpm formula, because with original f. when you hit error wpm falls heavily\r\n    const wpm = +(((typed.total - typed.wrong) / 5 / (counter.time + 0.1)) * 60).toFixed(0);\r\n    const accuracy = +(((typed.total - typed.wrong) / (typed.total + 0.00001)) * 100).toFixed(0);\r\n    indicators.set({\r\n      wpm: wpm > 0 ? wpm : 0,\r\n      accuracy: accuracy === 0 ? 100 : accuracy,\r\n    });\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [typed, counter.time]);\r\n\r\n  useEffect(() => {\r\n    // when component is mounted, it doesn`t have lesson, here we sync and rerender\r\n    if (lesson) setCurrentChar(lessonCode.current?.children[0]);\r\n  }, [lesson, setCurrentChar]);\r\n\r\n  useEffect(() => {\r\n    if (isLessonEnded && lesson) {\r\n      const data: ICreateAttempt = {\r\n        lesson: lesson._id,\r\n        accuracy: indicators.get().accuracy,\r\n        wpm: indicators.get().wpm,\r\n        time: counter.time,\r\n        numberOfErrors: typed.wrong,\r\n      };\r\n\r\n      createAttempt(data).then(() => {\r\n        dispatch(\r\n          sectionApi.endpoints.getSectionById.initiate(params.sectionId, {\r\n            subscribe: false,\r\n            forceRefetch: true,\r\n          })\r\n        );\r\n      });\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [isLessonEnded]);\r\n\r\n  return (\r\n    <div data-testid=\"lesson\" className=\"my-4\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <div className=\"flex items-center\">\r\n          {!!lesson && (\r\n            <>\r\n              <h3 className=\"text-3xl font-semibold mr-4\">{lesson.name}</h3>\r\n              <DifficultyBadge difficulty={lesson.difficulty} size=\"large\" />\r\n            </>\r\n          )}\r\n        </div>\r\n        <div className=\"flex items-center\">\r\n          <h4 className=\"text-2xl font-semibold mr-2 text-gray-500\">Time:</h4>\r\n          <h4 className=\"text-3xl font-semibold mr-4 w-20\">{`${counter.minute}:${counter.second}`}</h4>\r\n          <Button onClick={restartLesson}>\r\n            <img className=\"mr-1\" src={restartIcon} width={24} height={24} alt=\"restart icon\" />\r\n            Restart\r\n          </Button>\r\n        </div>\r\n      </div>\r\n      <LessonKeyboard isLessonEnded={isLessonEnded}>\r\n        <Paper className=\"my-4\">\r\n          <div className=\"flex gap-6\">\r\n            <Indicator name=\"Speed\" measure=\"WPM\" value={indicators.get().wpm} icon={speedIcon} />\r\n            <Indicator\r\n              name=\"Accuracy\"\r\n              measure=\"%\"\r\n              value={indicators.get().accuracy}\r\n              icon={accuracyIcon}\r\n            />\r\n            <Indicator name=\"Typed\" measure=\"CHARS\" value={typed.total} icon={keyboardIcon} />\r\n            <Indicator name=\"Errors\" measure=\"CHARS\" value={typed.wrong} icon={errorIcon} />\r\n          </div>\r\n          <div className=\"relative mt-2 \">\r\n            <pre\r\n              ref={lessonCode}\r\n              className=\"text-base text-gray-500 font-medium font-mono h-44 max-h-44 overflow-y-scroll\"\r\n            >\r\n              {lesson &&\r\n                escapeSpecialChars(lesson.code)\r\n                  .split('')\r\n                  .map((char, i) => (\r\n                    <span className={char === '\\n' ? 'before:enter text-white px-1' : ''} key={i}>\r\n                      {char}\r\n                    </span>\r\n                  ))}\r\n            </pre>\r\n            <div\r\n              className={`transition-all absolute top-0 min-w-full min-h-full bg-white opacity-0 ${\r\n                isLessonEnded ? 'visible opacity-100' : 'invisible'\r\n              } flex items-center justify-center flex-col`}\r\n            >\r\n              <h3 className=\"text-4xl text-indigo-600 font-semibold\">Congratulation!</h3>\r\n              <h4 className=\"text-2xl text-gray-500 font-semibold\">\r\n                You have passed the lesson, you can start the next lesson or try again\r\n              </h4>\r\n              <div className=\"flex gap-4 w-1/2 mt-4\">\r\n                <Link className=\"w-full\" to={`/lessons/${params.sectionId}/random`}>\r\n                  <Button fullWidth>Next lesson</Button>\r\n                </Link>\r\n                <Link className=\"w-full\" to={`/lessons/${params.sectionId}`}>\r\n                  <Button fullWidth>See more lessons</Button>\r\n                </Link>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          {!isLessonEnded && (\r\n            <input\r\n              ref={invisibleInput}\r\n              onBlur={() => invisibleInput?.current?.focus()}\r\n              onKeyDown={handleInput}\r\n              className=\"fixed -left-full\"\r\n            />\r\n          )}\r\n        </Paper>\r\n      </LessonKeyboard>\r\n      <CustomModal\r\n        isOpen={isOpenModal}\r\n        setIsOpen={setIsOpenModal}\r\n        shouldCloseOnOverlayClick={false}\r\n        maxWidth={500}\r\n      >\r\n        <div className=\"flex flex-col items-center\">\r\n          <div className=\"bg-indigo-200 p-3 rounded-lg w-20\">\r\n            <img width={64} height={64} src={startIcon} alt=\"start icon\" />\r\n          </div>\r\n          <h4 className=\"text-3xl font-semibold py-4\">Please be prepared. Good luck!</h4>\r\n          <Button fullWidth onClick={startLesson} disabled={!!!lesson}>\r\n            {!!lesson ? 'Start Typing Now' : 'Loading...'}\r\n          </Button>\r\n        </div>\r\n      </CustomModal>\r\n    </div>\r\n  );\r\n};\r\n\r\ntype IndicatorPropsType = {\r\n  name: string;\r\n  measure: string;\r\n  value: number;\r\n  icon: string;\r\n};\r\n\r\nconst Indicator: React.FC<IndicatorPropsType> = ({ name, measure, value, icon }) => {\r\n  return (\r\n    <div className=\"flex items-end max-h-8 max-w-s w-full\">\r\n      <div className=\"flex items-end opacity-50 mr-1\">\r\n        <img className=\"mr-1\" src={icon} width={32} height={32} alt={icon} />\r\n        <span className=\"text-lg font-semibold\">{name}:</span>\r\n      </div>\r\n      <div className=\"text-indigo-600\">\r\n        <span className=\"text-3xl font-bold \">{value}</span>\r\n        <span className=\"text-xs font-semibold\">{measure}</span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import { useState } from 'react';\r\nexport const useSyncState = <T>(initialState: T): { get: () => T; set: (newState: T) => void } => {\r\n  const [state, updateState] = useState(initialState);\r\n  let current = state;\r\n  const get = (): T => current;\r\n  const set = (newState: T) => {\r\n    current = newState;\r\n    updateState(newState);\r\n    return current;\r\n  };\r\n  return { get, set };\r\n};\r\n","import { useState, KeyboardEvent, useEffect } from 'react';\r\nexport const useKeyboardInput = (lessonCode: React.MutableRefObject<HTMLPreElement | null>) => {\r\n  const [currentChar, setCurrentChar] = useState(lessonCode.current?.children[0]);\r\n  const [typed, setTyped] = useState({\r\n    total: 0,\r\n    wrong: 0,\r\n  });\r\n  const [isLessonEnded, setIsLessonEnded] = useState(false);\r\n\r\n  const changeCurrentChar = (newVal: Element) => {\r\n    //this check if next item === undefined, end lesson\r\n    if (!newVal && lessonCode.current) {\r\n      lessonCode.current.classList.add('overflow-y-hidden');\r\n      return setIsLessonEnded(true);\r\n    }\r\n    setCurrentChar(newVal);\r\n    newVal.classList.add(`bg-green-500`);\r\n    newVal.classList.add(`text-white`);\r\n    newVal.scrollIntoView({ block: 'center', behavior: 'smooth' });\r\n  };\r\n  const cleanUp = (s: string[]) => s.forEach((i) => currentChar?.classList.remove(i));\r\n\r\n  useEffect(() => {\r\n    setCurrentChar(lessonCode.current?.children[0]);\r\n  }, [lessonCode]);\r\n\r\n  const handleInput = (e: KeyboardEvent<HTMLInputElement>) => {\r\n    if (!currentChar || !lessonCode.current) return;\r\n    const chars = Array.from(lessonCode.current.children);\r\n    const currCharIndex = chars.indexOf(currentChar);\r\n    let isError = !!currentChar.classList.contains('bg-red-500');\r\n\r\n    if (e.key === 'Backspace' && isError) {\r\n      currentChar.classList.add(`bg-green-500`);\r\n      cleanUp(['bg-red-500']);\r\n      return;\r\n    } else if (e.key === 'Backspace' && currCharIndex !== 0) {\r\n      cleanUp(['text-white', 'text-black', 'bg-red-500', 'bg-green-500']);\r\n\r\n      let skippedChars = 1;\r\n      while (chars[currCharIndex - skippedChars].textContent === '\\t') skippedChars++;\r\n      return changeCurrentChar(chars[currCharIndex - skippedChars]);\r\n    } else if (e.key === 'Backspace' && currCharIndex === 0) {\r\n      return;\r\n    }\r\n\r\n    if (isError || e.key === 'Shift') return;\r\n\r\n    if (e.key === 'Enter' && currentChar.textContent === '\\n') {\r\n      cleanUp(['bg-green-500']);\r\n\r\n      let skippedChars = 1;\r\n      while (chars[currCharIndex + skippedChars].textContent === '\\t') skippedChars++;\r\n      return changeCurrentChar(chars[currCharIndex + skippedChars]);\r\n    }\r\n\r\n    setTyped((prev) => ({ ...prev, total: prev.total + 1 }));\r\n\r\n    if (e.key === currentChar.textContent) {\r\n      cleanUp(['text-white', 'bg-red-500', 'bg-green-500']);\r\n      currentChar.classList.add(`text-black`);\r\n      changeCurrentChar(chars[currCharIndex + 1]);\r\n    } else {\r\n      cleanUp(['bg-green-500']);\r\n      currentChar.classList.add(`bg-red-500`);\r\n      setTyped((prev) => ({ ...prev, wrong: prev.wrong + 1 }));\r\n    }\r\n  };\r\n\r\n  return { currentChar, setCurrentChar, handleInput, typed, isLessonEnded };\r\n};\r\n","import { useEffect, useState } from 'react';\r\n\r\nexport const useCounter = (isActive: boolean) => {\r\n  const [counter, setCounter] = useState({\r\n    second: '00',\r\n    minute: '00',\r\n    time: 0,\r\n  });\r\n\r\n  const handleChangeCounter = (newTime: number) => {\r\n    const second = String(newTime % 60);\r\n    const minute = String(Math.floor(newTime / 60));\r\n\r\n    const computedSecond = second.length === 1 ? `0${second}` : second;\r\n    const computedMinute = minute.length === 1 ? `0${minute}` : minute;\r\n\r\n    setCounter({\r\n      second: computedSecond,\r\n      minute: computedMinute,\r\n      time: newTime,\r\n    });\r\n  };\r\n  useEffect(() => {\r\n    let timerId: NodeJS.Timeout;\r\n    if (isActive) {\r\n      timerId = setTimeout(() => handleChangeCounter(counter.time + 1), 1000);\r\n    }\r\n    return () => clearTimeout(timerId);\r\n  }, [isActive, counter]);\r\n\r\n  return {\r\n    counter,\r\n    restartCounter: () => handleChangeCounter(0),\r\n  };\r\n};\r\n","export default __webpack_public_path__ + \"static/media/close.244b6687.svg\";","import React from 'react';\r\nimport { Badge } from './Badge';\r\n\r\ntype PropsType = {\r\n  value: number;\r\n};\r\n\r\nexport const PercentageBadge: React.FC<PropsType> = ({ value }) => {\r\n  let color = value === 0 ? 'gray' : value < 40 ? 'red' : value < 80 ? 'yellow' : 'green';\r\n  return <Badge color={color} value={`${value}%`} />;\r\n};\r\n","import closeIcon from 'assets/close.svg';\r\nimport React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { ILesson } from 'store/types';\r\nimport { escapeSpecialChars } from 'utils/escapeSpecialChars';\r\nimport { Button } from './Button';\r\nimport { CustomModal } from './CustomModal';\r\nimport { DifficultyBadge } from './DifficultyBadge';\r\nimport { PercentageBadge } from './PercentageBadge';\r\n\r\nexport const LessonCard: React.FC<ILesson & { sectionId: string }> = ({\r\n  _id,\r\n  name,\r\n  code,\r\n  source,\r\n  sourceCode,\r\n  difficulty,\r\n  avgAccuracy,\r\n  lines,\r\n  sectionId,\r\n}) => {\r\n  const [isOpenModal, setIsOpenModal] = useState(false);\r\n\r\n  return (\r\n    <div className=\"p-4 rounded-md shadow-sm bg-white w-1/3 -mx-4\">\r\n      <div className=\"flex items-center justify-between pb-1\">\r\n        <h3 className=\"text-3xl font-semibold\">{name}</h3>\r\n        <DetailsBtn source={source} sourceCode={sourceCode} />\r\n      </div>\r\n      <div className=\"flex justify-between pb-1.5\">\r\n        <h5 className=\"text-1xl font-semibold text-gray-500\">Accuracy</h5>\r\n        <PercentageBadge value={avgAccuracy} />\r\n      </div>\r\n      <div className=\"flex justify-between pb-1.5\">\r\n        <h5 className=\"text-1xl font-semibold text-gray-500\">Difficulty</h5>\r\n        <DifficultyBadge difficulty={difficulty} />\r\n      </div>\r\n      <div className=\"flex justify-between pb-3\">\r\n        <h5 className=\"text-1xl font-semibold text-gray-500\">Size</h5>\r\n        <span className=\"text-base font-semibold\">{`${lines} lines`}</span>\r\n      </div>\r\n      <div className=\"flex gap-4 w-full\">\r\n        <Link className=\"w-full\" to={`/lessons/${sectionId}/${_id}`}>\r\n          <Button fullWidth>Start</Button>\r\n        </Link>\r\n        <div className=\"w-full group\">\r\n          <Button fullWidth variant=\"secondary\" onClick={() => setIsOpenModal(true)}>\r\n            Overview\r\n          </Button>\r\n          <CustomModal isOpen={isOpenModal} setIsOpen={setIsOpenModal}>\r\n            <div className=\"flex justify-between\">\r\n              <h3 className=\"text-3xl font-semibold\">{name}</h3>\r\n              <button onClick={() => setIsOpenModal(false)}>\r\n                <img\r\n                  className=\"opacity-50 hover:opacity-100\"\r\n                  width={32}\r\n                  height={32}\r\n                  src={closeIcon}\r\n                  alt=\"lang icon\"\r\n                />\r\n              </button>\r\n            </div>\r\n            <pre className=\"my-4 max-h-96 overflow-y-scroll\">{escapeSpecialChars(code)}</pre>\r\n            {/* <pre className=\"my-4 max-h-96 overflow-y-scroll\">{`\r\nclass Greeter {\r\n  public greet() {\r\n    console.log(\"Hello, \" + this.getName());\r\n  }\r\n  protected getName() {\r\n    return \"hi\";\r\n  }\r\n}*/}\r\n            <Link className=\"w-full\" to={`/lessons/${sectionId}/${_id}`}>\r\n              <Button fullWidth>Start</Button>\r\n            </Link>\r\n          </CustomModal>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst DetailsBtn: React.FC<Pick<ILesson, 'source' | 'sourceCode'>> = ({ source, sourceCode }) => {\r\n  return (\r\n    <div className=\"relative group inline-block text-left pb-1\">\r\n      <button\r\n        type=\"button\"\r\n        className=\"inline-flex justify-center w-full rounded-md border border-gray-300 shadow-sm px-2.5 py-1.5 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50\"\r\n      >\r\n        Details\r\n        <svg\r\n          className=\"-mr-1 ml-1 h-5 w-5\"\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          viewBox=\"0 0 20 20\"\r\n          fill=\"currentColor\"\r\n          aria-hidden=\"true\"\r\n        >\r\n          <path\r\n            fillRule=\"evenodd\"\r\n            d=\"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z\"\r\n            clipRule=\"evenodd\"\r\n          />\r\n        </svg>\r\n      </button>\r\n\r\n      <div className=\"transition-all overflow-hidden h-0 opacity-0 group-focus-within:h-auto group-focus-within:opacity-100 origin-top-right absolute right-0 mt-2 w-40 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none\">\r\n        <div className=\"py-1\">\r\n          <a\r\n            href={source}\r\n            className=\"text-gray-700 block px-4 py-2 text-sm hover:bg-gray-50\"\r\n            target=\"_blank\"\r\n            rel=\"noreferrer\"\r\n          >\r\n            Source\r\n          </a>\r\n          <a\r\n            href={sourceCode}\r\n            className=\"text-gray-700 block px-4 py-2 text-sm hover:bg-gray-50\"\r\n            target=\"_blank\"\r\n            rel=\"noreferrer\"\r\n          >\r\n            Source code\r\n          </a>\r\n          {/* <button\r\n            disabled\r\n            className=\"w-full text-left text-gray-600 block px-4 py-2 text-sm hover:bg-gray-50\"\r\n          >\r\n            Edit\r\n          </button> */}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const LessonCardPreloader = () => {\r\n  return (\r\n    <div className=\"p-4 rounded-md shadow-sm bg-white w-1/3 -mx-4\">\r\n      <div className=\"flex items-center justify-between pb-1\">\r\n        <h3 className=\"bg-gray-300 animate-pulse text-transparent rounded-lg text-3xl font-semibold\">\r\n          Class Expressions\r\n        </h3>\r\n        <div className=\"bg-gray-300 animate-pulse text-transparent text-3xl rounded-lg\">\r\n          details\r\n        </div>\r\n      </div>\r\n      <div className=\"flex justify-between pb-1.5\">\r\n        <h5 className=\"bg-gray-300 animate-pulse text-transparent rounded-lg text-1xl font-semibold\">\r\n          Accuracy\r\n        </h5>\r\n        <div className=\"bg-gray-300 animate-pulse text-transparent rounded-lg\">badge</div>\r\n      </div>\r\n      <div className=\"flex justify-between pb-1.5\">\r\n        <h5 className=\"bg-gray-300 animate-pulse text-transparent rounded-lg text-1xl font-semibold\">\r\n          Difficulty\r\n        </h5>\r\n        <div className=\"bg-gray-300 animate-pulse text-transparent rounded-lg\">badge</div>\r\n      </div>\r\n      <div className=\"flex justify-between pb-3\">\r\n        <h5 className=\"bg-gray-300 animate-pulse text-transparent rounded-lg text-1xl font-semibold\">\r\n          Size\r\n        </h5>\r\n        <span className=\"bg-gray-300 animate-pulse text-transparent rounded-lg text-base font-semibold\">\r\n          20 lines\r\n        </span>\r\n      </div>\r\n\r\n      <div className=\"h-11 bg-gray-300 animate-pulse flex gap-4 w-full rounded-lg\"></div>\r\n    </div>\r\n  );\r\n};\r\n","import {\r\n  BaseQueryFn,\r\n  FetchArgs,\r\n  FetchBaseQueryError,\r\n  FetchBaseQueryMeta,\r\n  QueryDefinition,\r\n} from '@reduxjs/toolkit/dist/query';\r\nimport { UseQuery } from '@reduxjs/toolkit/dist/query/react/buildHooks';\r\nimport { useEffect, useState } from 'react';\r\n\r\nexport const useDelayedQuery = <A, T>(\r\n  queryArg: A,\r\n  query: UseQuery<\r\n    QueryDefinition<\r\n      A,\r\n      BaseQueryFn<string | FetchArgs, unknown, FetchBaseQueryError, {}, FetchBaseQueryMeta>,\r\n      never,\r\n      T,\r\n      string\r\n    >\r\n  >,\r\n  ms: number = 400\r\n): T | undefined => {\r\n  const [delay, setDelay] = useState(false);\r\n  const { data } = query(queryArg, { skip: delay });\r\n\r\n  useEffect(() => {\r\n    if (!!!data) {\r\n      setDelay(true); // because when we set default skip: true, RTKQ doesn`t use cache\r\n    }\r\n    const handler = setTimeout(() => {\r\n      setDelay(false);\r\n    }, ms);\r\n\r\n    return () => clearTimeout(handler);\r\n  }, [data, ms]);\r\n\r\n  return data;\r\n};\r\n","export default __webpack_public_path__ + \"static/media/empty.04958912.png\";","import { LessonCard, LessonCardPreloader } from 'components/LessonCard';\r\nimport { useDelayedQuery } from 'hooks/useDelayedQuery';\r\nimport React from 'react';\r\nimport { useParams } from 'react-router';\r\nimport { useGetSectionByIdQuery } from 'services/sectionApi';\r\nimport emptyImg from 'assets/empty.png';\r\nimport { Link } from 'react-router-dom';\r\nimport { Button } from 'components/Button';\r\n\r\nexport const Lessons = () => {\r\n  const params: { sectionId: string } = useParams();\r\n  const section = useDelayedQuery(params.sectionId, useGetSectionByIdQuery);\r\n\r\n  return (\r\n    <div className=\"my-4\" data-testid=\"lessons\">\r\n      <h1\r\n        className={`text-center text-4xl font-bold text-indigo-600 ${\r\n          section ? 'visible' : 'invisible'\r\n        }`}\r\n      >{`${section ? section.name : 'Section'} lessons`}</h1>\r\n      <h2 className=\"my-3 text-center text-3xl font-semibold text-gray-500\">\r\n        Choose and start your lesson\r\n      </h2>\r\n      <div className=\"my-8 w-full flex flex-wrap justify-center gap-y-4 gap-x-12 px-4\">\r\n        {section ? (\r\n          section.lessons.length ? (\r\n            section.lessons.map((lesson, i) => (\r\n              <LessonCard {...lesson} key={lesson._id} sectionId={params.sectionId} />\r\n            ))\r\n          ) : (\r\n            <div className=\"flex flex-col items-center\">\r\n              <img width={256} height={256} src={emptyImg} alt=\"empty icon\" />\r\n              <h2 className=\"my-2 text-2xl font-semibold text-gray-500\">Oops! No lessons</h2>\r\n              <Link to=\"/\">\r\n                <Button>Go to homepage</Button>\r\n              </Link>\r\n            </div>\r\n          )\r\n        ) : (\r\n          [...Array(6)].map((v, i) => <LessonCardPreloader key={i} />)\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","export default __webpack_public_path__ + \"static/media/avgSpeed.e2782f24.svg\";","export default __webpack_public_path__ + \"static/media/lesson.3766c0fe.svg\";","export default __webpack_public_path__ + \"static/media/topSpeed.323da0f3.svg\";","export default __webpack_public_path__ + \"static/media/upload.f3fc7029.svg\";","import { Paper } from './Paper';\r\n\r\ntype ProfileStatItemPropsType = {\r\n  title: string;\r\n  value: number | string;\r\n  icon: string;\r\n};\r\n\r\nexport const ProfileStatItem: React.FC<ProfileStatItemPropsType> = ({ title, value, icon }) => {\r\n  return (\r\n    <Paper className=\"flex\">\r\n      <div className=\"bg-indigo-600 p-3 rounded-lg mr-4\">\r\n        <img width={36} height={36} src={icon} alt=\"stat icon\" />\r\n      </div>\r\n      <div>\r\n        <span className=\"text-lg text-gray-500 font-medium\">{title}</span>\r\n        <p className=\"text-3xl font-bold\">{value}</p>\r\n      </div>\r\n    </Paper>\r\n  );\r\n};\r\n\r\nexport const ProfileStatItemPreloader = () => {\r\n  return (\r\n    <div className=\"p-4 rounded-md shadow-sm bg-white w-full flex\">\r\n      <div className={`bg-gray-300 animate-pulse mr-4 rounded-lg w-16 h-16 `}></div>\r\n      <div className=\"w-3/5\">\r\n        <div className={`bg-gray-300 animate-pulse rounded-lg w-full h-6 mb-3`}></div>\r\n        <div className={`bg-gray-300 animate-pulse rounded-lg w-3/5 h-7`}></div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react';\r\nimport { IProfile } from '../store/types';\r\n\r\nexport const userApi = createApi({\r\n  reducerPath: 'userApi',\r\n  baseQuery: fetchBaseQuery({ baseUrl: '/api/users/' }),\r\n  refetchOnMountOrArgChange: true,\r\n  endpoints: (builder) => ({\r\n    getUserProfile: builder.query<IProfile, null>({\r\n      query: () => `profile`,\r\n    }),\r\n  }),\r\n});\r\n\r\nexport const { useGetUserProfileQuery } = userApi;\r\n","import avgSeedIcon from 'assets/avgSpeed.svg';\r\nimport lessonIcon from 'assets/lesson.svg';\r\nimport topSpeedIcon from 'assets/topSpeed.svg';\r\nimport uploadIcon from 'assets/upload.svg';\r\nimport { Paper } from 'components/Paper';\r\nimport { ProfileStatItem, ProfileStatItemPreloader } from 'components/ProfileStatItem';\r\nimport { useDelayedQuery } from 'hooks/useDelayedQuery';\r\nimport React from 'react';\r\nimport {\r\n  CartesianGrid,\r\n  Line,\r\n  LineChart,\r\n  ResponsiveContainer,\r\n  Tooltip,\r\n  XAxis,\r\n  YAxis,\r\n} from 'recharts';\r\nimport { useGetUserProfileQuery } from 'services/userApi';\r\n\r\nexport const Profile = () => {\r\n  const profile = useDelayedQuery(null, useGetUserProfileQuery);\r\n\r\n  return (\r\n    <div className=\"my-4\" data-testid=\"sections\">\r\n      <h1 className=\"text-center text-4xl font-bold text-indigo-600\">My Profile</h1>\r\n      <h2 className=\"my-3 text-center text-2xl font-semibold text-gray-500\">\r\n        Here you can see detailed statistics about your learning progress\r\n      </h2>\r\n      <div className=\"my-8\">\r\n        <div className=\"flex gap-4 my-4\">\r\n          {profile ? (\r\n            <>\r\n              <ProfileStatItem title=\"Total Time\" value={profile.totalTime} icon={uploadIcon} />\r\n              <ProfileStatItem\r\n                title=\"Total Lessons\"\r\n                value={profile.totalLessons}\r\n                icon={lessonIcon}\r\n              />\r\n              <ProfileStatItem title=\"Top Speed\" value={profile.topSpeed} icon={topSpeedIcon} />\r\n              <ProfileStatItem title=\"Avg Speed\" value={profile.averageSpeed} icon={avgSeedIcon} />\r\n            </>\r\n          ) : (\r\n            [...Array(4)].map((v, i) => <ProfileStatItemPreloader key={i} />)\r\n          )}\r\n        </div>\r\n      </div>\r\n      <div>\r\n        <h3 className=\"text-center text-3xl font-semibold text-indigo-600\">Typing speed</h3>\r\n        <h4 className=\"my-3 text-center text-2xl font-medium text-gray-500\">\r\n          This chart shows how overall typing speed changes over time.\r\n        </h4>\r\n        {profile ? (\r\n          <Paper className=\"min-h-98 \">\r\n            <ResponsiveContainer width={'99%'} height={400}>\r\n              <LineChart\r\n                width={1200}\r\n                height={400}\r\n                data={profile.typingChart}\r\n                margin={{\r\n                  top: 16,\r\n                  right: 16,\r\n                  left: 16,\r\n                }}\r\n                style={{ cursor: 'pointer' }}\r\n              >\r\n                <CartesianGrid />\r\n                <XAxis dataKey=\"lessonNumber\" />\r\n                <YAxis dataKey=\"wpm\" unit=\"wpm\" />\r\n                <Tooltip />\r\n                <Line type=\"monotone\" dataKey=\"wpm\" stroke=\"#4F46E5\" strokeWidth={2} />\r\n              </LineChart>\r\n            </ResponsiveContainer>\r\n            <h4 className=\"text-center\">Horizontal axis: lesson number. Vertical axis: wpm</h4>\r\n          </Paper>\r\n        ) : (\r\n          <div className=\"flex justify-center items-center mt-16\">\r\n            <div\r\n              className=\"\r\n              animate-spin\r\n              rounded-full\r\n              h-32\r\n              w-32\r\n              border-t-4 border-b-4 border-indigo-700\r\n            \"\r\n            ></div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","export default __webpack_public_path__ + \"static/media/css.0147f3ff.svg\";","export default __webpack_public_path__ + \"static/media/js.70193d7d.svg\";","export default __webpack_public_path__ + \"static/media/react.8cdaf781.svg\";","export default __webpack_public_path__ + \"static/media/ts.4c2e88c3.svg\";","import { IconStyleType } from 'pages/Sections';\r\nimport React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useGetRandomLessonIdQuery } from 'services/lessonApi';\r\nimport { Button } from './Button';\r\n\r\ntype PropsType = {\r\n  _id: string;\r\n  name: string;\r\n  route: string;\r\n  description: string;\r\n  iconStyle: IconStyleType;\r\n};\r\n\r\nexport const SectionCard: React.FC<PropsType> = ({ _id, name, route, description, iconStyle }) => {\r\n  const { data: random } = useGetRandomLessonIdQuery(_id);\r\n\r\n  return (\r\n    <div className=\"p-4 rounded-md shadow-sm bg-white w-1/2 -mx-2\">\r\n      <div className=\"flex items-center pb-2\">\r\n        <div className={`${iconStyle.color} p-3 rounded-lg`}>\r\n          <img width={32} height={32} src={iconStyle.src} alt=\"lang icon\" />\r\n        </div>\r\n        <h3 className=\"ml-4 text-4xl font-semibold\">{name}</h3>\r\n      </div>\r\n      <p className=\"text-lg my-1 text-gray-500\">{description}</p>\r\n      <div className=\"flex gap-4 mt-3 w-full\">\r\n        <Link\r\n          className=\"flex-shrink-0\"\r\n          to={`/lessons/${route}${random?.lessonId ? `/${random?.lessonId}` : ''}`}\r\n        >\r\n          <Button disabled={!random}>Pick Random lesson</Button>\r\n        </Link>\r\n        <Link className=\"w-full\" to={`/lessons/${route}`}>\r\n          <Button variant=\"secondary\" fullWidth>\r\n            Explore lessons\r\n          </Button>\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const SectionCardPreloader = () => {\r\n  return (\r\n    <div className=\"p-4 rounded-md shadow-sm bg-white w-1/2 -mx-2\">\r\n      <div className=\"flex items-center pb-2\">\r\n        <div className={`bg-gray-300 animate-pulse p-3 rounded-lg`}>\r\n          <div className=\"w-8 h-8\"></div>\r\n        </div>\r\n        <div className=\"bg-gray-300 animate-pulse ml-4 text-4xl text-transparent font-semibold w-1/2 rounded-lg\">\r\n          JavaScript\r\n        </div>\r\n      </div>\r\n      <p className=\"bg-gray-300 animate-pulse text-lg my-1 text-transparent rounded-lg\">\r\n        Improve your speed in writing functions, algorithms, generics, types and interfaces, using\r\n        examples from the documentation\r\n      </p>\r\n      <div className=\"h-11 bg-gray-300 animate-pulse flex gap-4 mt-3 w-full rounded-lg\"></div>\r\n    </div>\r\n  );\r\n};\r\n","import cssIcon from 'assets/css.svg';\r\nimport jsIcon from 'assets/js.svg';\r\nimport reactIcon from 'assets/react.svg';\r\nimport tsIcon from 'assets/ts.svg';\r\nimport uploadIcon from 'assets/upload.svg';\r\nimport { SectionCard, SectionCardPreloader } from 'components/SectionCard';\r\nimport { useDelayedQuery } from 'hooks/useDelayedQuery';\r\nimport React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useGetSectionsQuery } from 'services/sectionApi';\r\n\r\nexport const Sections = () => {\r\n  const sections = useDelayedQuery(null, useGetSectionsQuery);\r\n\r\n  return (\r\n    <div className=\"my-4\" data-testid=\"sections\">\r\n      <h1 className=\"text-center text-4xl font-bold text-indigo-600\">\r\n        Improve your Typing with Open Source Code\r\n      </h1>\r\n      <h2 className=\"my-3 text-center text-3xl font-semibold text-gray-500\">\r\n        Choose one section of frontend development\r\n      </h2>\r\n      <div className=\"my-8 w-full flex flex-wrap justify-center gap-y-4 gap-x-8\">\r\n        {sections\r\n          ? sections.map((section) => (\r\n              <SectionCard\r\n                key={section._id}\r\n                _id={section._id}\r\n                route={section.route}\r\n                name={section.name}\r\n                description={section.description}\r\n                iconStyle={getIconStyle(section.name)}\r\n              />\r\n            ))\r\n          : [...Array(4)].map((v, i) => <SectionCardPreloader key={i} />)}\r\n        <div className=\"w-1/2 -mx-2 border-4 border-dashed border-gray-400 p-6 flex flex-col items-center justify-center\">\r\n          <Link to=\"/lessons\">\r\n            <div className=\"flex items-center pb-2\">\r\n              <div className=\"bg-indigo-600 hover:bg-indigo-700 p-3 rounded-lg\">\r\n                <img width={32} height={32} src={uploadIcon} alt=\"upload icon\" />\r\n              </div>\r\n            </div>\r\n          </Link>\r\n          <h4 className=\"font-semibold text-3xl\">Create custom section</h4>\r\n          <div className=\"text-lg font-semibold text-gray-500\">\r\n            Here you can create custom lesson with your code\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport type IconStyleType = {\r\n  src: string;\r\n  color: string;\r\n};\r\n\r\nconst getIconStyle = (id: string): IconStyleType => {\r\n  switch (id) {\r\n    case 'JavaScript':\r\n      return {\r\n        src: jsIcon,\r\n        color: 'bg-yellow-400',\r\n      };\r\n    case 'TypeScript':\r\n      return {\r\n        src: tsIcon,\r\n        color: 'bg-blue-600',\r\n      };\r\n    // case 'html':\r\n    //   return {\r\n    //     src: htmlIcon,\r\n    //     color: 'bg-red-500',\r\n    //   };\r\n    case 'CSS':\r\n      return {\r\n        src: cssIcon,\r\n        color: 'bg-green-500',\r\n      };\r\n    case 'React and Redux':\r\n      return {\r\n        src: reactIcon,\r\n        color: 'bg-lightBlue',\r\n      };\r\n    // case 'react-ts':\r\n    //   return {\r\n    //     src: reactIcon,\r\n    //     color: 'bg-lightBlue',\r\n    //   };\r\n    default:\r\n      return {\r\n        src: uploadIcon,\r\n        color: 'bg-gray-400',\r\n      };\r\n  }\r\n};\r\n","import React, { useState } from 'react';\r\nimport { removeSpaces } from 'utils/removeSpaces';\r\n\r\nexport const Text = () => {\r\n  const [value, setValue] = useState('');\r\n  const handleChange = (e: any) => {\r\n    console.log(e.target.value);\r\n    setValue(e.target.value);\r\n  };\r\n\r\n  const handleTab = (e: any) => {\r\n    if (e.key === 'Tab') {\r\n      e.preventDefault();\r\n    }\r\n  };\r\n\r\n  const save = () => {\r\n    console.log(removeSpaces(value));\r\n    console.log(JSON.stringify(value).split('\\\\n').length);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <textarea\r\n        tabIndex={10}\r\n        onKeyDown={handleTab}\r\n        onChange={handleChange}\r\n        value={value}\r\n        cols={100}\r\n        rows={10}\r\n      ></textarea>\r\n      <button onClick={save}>Console</button>\r\n    </div>\r\n  );\r\n};\r\n","export const removeSpaces = (str: string) => {\r\n  let res = '';\r\n  let counter = 1;\r\n  for (let i = 0; i < str.length; i++) {\r\n    if (str[i] === ' ' && str[i - counter] === '\\n') {\r\n      if (counter++ % 2 !== 0) res += '\\t';\r\n    } else {\r\n      counter = 1;\r\n      res += str[i];\r\n    }\r\n  }\r\n\r\n  return JSON.stringify(res);\r\n};\r\n","import { Layout } from 'components/Layout';\r\nimport { PrivateRoute } from 'components/PrivateRoute';\r\nimport { Account } from 'pages/Account';\r\nimport { Home } from 'pages/Home';\r\nimport { Lesson } from 'pages/Lesson';\r\nimport { Lessons } from 'pages/Lessons';\r\nimport { Profile } from 'pages/Profile';\r\nimport { Sections } from 'pages/Sections';\r\nimport { Text } from 'pages/Text';\r\nimport React, { useEffect } from 'react';\r\nimport { Route, Switch } from 'react-router';\r\nimport { useAppDispatch } from 'store/hooks';\r\nimport { fetchGetMe } from 'store/slices/userSlice';\r\n\r\nfunction App() {\r\n  const dispatch = useAppDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchGetMe());\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <Layout>\r\n      <Switch>\r\n        <PrivateRoute path=\"/lessons/:sectionId/:lessonId\">\r\n          <Lesson />\r\n        </PrivateRoute>\r\n        <PrivateRoute path=\"/lessons/:sectionId\">\r\n          <Lessons />\r\n        </PrivateRoute>\r\n        <Route path=\"/lessons\">\r\n          <Sections />\r\n        </Route>\r\n        <PrivateRoute path=\"/profile\">\r\n          <Profile />\r\n        </PrivateRoute>\r\n        <Route path=\"/account\">\r\n          <Account />\r\n        </Route>\r\n        <Route path=\"/text\">\r\n          <Text />\r\n        </Route>\r\n        <Route path=\"/\">\r\n          <Home />\r\n        </Route>\r\n      </Switch>\r\n    </Layout>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { authApi } from './../services/authApi';\r\nimport { sectionApi } from '../services/sectionApi';\r\nimport { lessonApi } from '../services/lessonApi';\r\nimport { configureStore } from '@reduxjs/toolkit';\r\nimport userReducer from './slices/userSlice';\r\nimport { userApi } from 'services/userApi';\r\n\r\nexport const store = configureStore({\r\n  reducer: {\r\n    [sectionApi.reducerPath]: sectionApi.reducer,\r\n    [lessonApi.reducerPath]: lessonApi.reducer,\r\n    [userApi.reducerPath]: userApi.reducer,\r\n    [authApi.reducerPath]: authApi.reducer,\r\n    user: userReducer,\r\n  },\r\n  middleware: (getDefaultMiddleware) =>\r\n    getDefaultMiddleware().concat([\r\n      sectionApi.middleware,\r\n      lessonApi.middleware,\r\n      userApi.middleware,\r\n      authApi.middleware,\r\n    ]),\r\n});\r\n\r\nexport type RootState = ReturnType<typeof store.getState>;\r\nexport type AppDispatch = typeof store.dispatch;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { store } from 'store';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Router>\r\n      <Provider store={store}>\r\n        <App />\r\n      </Provider>\r\n    </Router>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}