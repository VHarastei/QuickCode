(this.webpackJsonpquicktype=this.webpackJsonpquicktype||[]).push([[0],{197:function(e,t,s){},345:function(e,t,s){"use strict";s.r(t);var c,a=s(0),n=s.n(a),r=s(50),l=s.n(r),i=(s(197),s.p+"static/media/github.e0df113a.svg"),o=s.p+"static/media/linkedin.8861cb0e.svg",d=s.p+"static/media/google.e292aba4.svg",j=s(20),u=s(23),b=s(45),x=s.n(b),m=s(97);!function(e){e.LOADED="LOADED",e.LOADING="LOADING",e.ERROR="ERROR",e.NEVER="NEVER",e.CLEARED="CLEARED"}(c||(c={}));var h=s(4),O={data:null,loadingState:c.NEVER},f=Object(h.c)("user/fetchGetMe",function(){var e=Object(m.a)(x.a.mark((function e(t,s){var c,a,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=s.rejectWithValue,e.prev=1,e.next=4,fetch("/api/auth",{method:"GET",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},credentials:"include"});case 4:return a=e.sent,e.next=7,a.json();case 7:if("Unauthorized"!==(n=e.sent).message){e.next=10;break}return e.abrupt("return",c(n.message));case 10:return e.abrupt("return",n);case 13:e.prev=13,e.t0=e.catch(1),c(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t,s){return e.apply(this,arguments)}}()),g=Object(h.d)({name:"user",initialState:O,reducers:{setUserData:function(e,t){e.data=t.payload},setUserLoadingState:function(e,t){e.loadingState=t.payload}},extraReducers:function(e){return e.addCase(f.fulfilled.type,(function(e,t){e.data=t.payload,e.loadingState=c.LOADED})).addCase(f.pending.type,(function(e){e.loadingState=c.LOADING})).addCase(f.rejected.type,(function(e){e.loadingState=c.ERROR}))}}),p=g.actions,v=p.setUserData,y=p.setUserLoadingState,N=function(e){return e.user.data},w=function(e){return e.user.loadingState},k=g.reducer,S=s(1),C=function(e){var t=e.children,s=e.variant,c=void 0===s?"primary":s,a=e.fullWidth,n=e.disabled,r=void 0!==n&&n,l=e.onClick,i=e.className;return Object(S.jsx)("button",{onClick:l,disabled:r,className:"flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-base font-medium ".concat("primary"===c?"text-white bg-indigo-600 hover:bg-indigo-700":"text-indigo-700 bg-indigo-100 hover:bg-indigo-200"," ").concat(a?"w-full":"","  ").concat(i||""," disabled:bg-gray-500"),children:t})},L=function(){var e=Object(j.e)(N),t=Object(j.e)(w);return Object(S.jsx)("header",{className:"fixed w-full z-10 top-0 py-3 bg-white shadow-sm",children:Object(S.jsx)("nav",{className:"max-w-7xl mx-auto",children:Object(S.jsxs)("div",{className:"flex justify-between px-4",children:[Object(S.jsx)("div",{className:"flex items-center",children:Object(S.jsx)(u.b,{to:"/",children:Object(S.jsx)("div",{className:"hover:text-indigo-700 text-indigo-600 text-4xl font-bold py-2",children:"quickcode"})})}),t===c.LOADED||t===c.ERROR||t===c.CLEARED?Object(S.jsxs)("div",{className:"flex flex-row items-center text-lg font-medium text-gray-500",children:[Object(S.jsx)(u.b,{to:"/lessons",children:Object(S.jsx)("div",{className:"mr-4 hover:text-gray-900",children:"LESSONS"})}),Object(S.jsx)(u.b,{to:"/profile",children:Object(S.jsx)("div",{className:"mr-4 hover:text-gray-900",children:"PROFILE"})}),Object(S.jsx)(u.b,{to:"/account",children:e?Object(S.jsx)("div",{children:Object(S.jsx)("img",{className:"rounded-full",width:52,height:52,src:e.imageUrl,alt:"google profile icon"})}):Object(S.jsxs)(C,{className:"px-6 my-1",children:[Object(S.jsx)("img",{src:d,alt:"google icon"}),Object(S.jsx)("span",{className:"ml-3",children:"SIGN IN"})]})})]}):null]})})})},E=function(e){var t=e.children;return Object(S.jsxs)("div",{className:"h-full min-h-screen bg-gray-200 leading-normal tracking-normal flex flex-col",children:[Object(S.jsx)(L,{}),Object(S.jsx)("div",{className:"max-w-7xl mx-auto mt-20 px-4 mb-auto w-full",children:t}),Object(S.jsx)("footer",{className:"py-4 bg-white shadow-sm",children:Object(S.jsxs)("div",{className:"max-w-7xl mx-auto w-full flex items-center justify-between px-4",children:[Object(S.jsx)("h5",{className:"text-gray-500 font-medium text-lg",children:"\xa9 2021 quickcode. All rights reserved"}),Object(S.jsxs)("div",{className:"flex items-center",children:[Object(S.jsx)("a",{href:"https://github.com/VHarastei",target:"_blank",rel:"noreferrer",children:Object(S.jsx)("img",{className:"opacity-50 hover:opacity-100 ml-2",width:32,height:32,src:i,alt:"github icon"})}),Object(S.jsx)("a",{href:"https://www.linkedin.com/in/vasyl-harastei-869769186/",target:"_blank",rel:"noreferrer",children:Object(S.jsx)("img",{className:"opacity-50 hover:opacity-100 ml-2",width:32,height:32,src:o,alt:"linkedin icon"})})]})]})})]})},I=s(37),R=s(188),A=s(17);function T(e){var t=e.children,s=Object(R.a)(e,["children"]),a=Object(j.e)(w);return Object(S.jsx)(A.b,Object(I.a)(Object(I.a)({},s),{},{render:function(e){var s=e.location;return a===c.ERROR||a===c.CLEARED?Object(S.jsx)(A.a,{to:{pathname:"/account",state:{from:s}}}):t}}))}var D=s(13),P=function(e){var t=e.children,s=e.className;return Object(S.jsx)("div",{className:"w-full p-4 rounded-md shadow-sm bg-white ".concat(s||""),children:t})},q=s(127),G=s.n(q),U=s.p+"static/media/signout.a6eede60.svg",K=function(){return Object(j.d)()},W=(j.e,s(51)),M=s(31),_=Object(W.a)({reducerPath:"authApi",tagTypes:["User"],baseQuery:Object(M.d)({baseUrl:"/api/auth"}),refetchOnMountOrArgChange:!0,endpoints:function(e){return{signIn:e.mutation({query:function(e){return{url:"",method:"POST",body:e,credentials:"include"}},invalidatesTags:["User"]}),getMe:e.query({query:function(){return{url:"",credentials:"include"}}})}}}),B=_.useSignInMutation;_.useGetMeQuery;var z=s(169),Q=s.n(z),F=function(){var e=B(),t=Object(D.a)(e,1)[0],s=K(),a=Object(j.e)(N),n=function(){var e=Object(m.a)(x.a.mark((function e(a){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t({tokenId:a.tokenId});case 3:n=e.sent,r="data",n.hasOwnProperty(r)&&(s(v(n.data)),s(y(c.LOADED))),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),s(y(c.ERROR));case 11:case"end":return e.stop()}var r}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(S.jsxs)("div",{"data-testid":"home",children:[Object(S.jsx)("h1",{className:"mt-4 mb-6 text-center text-5xl font-bold text-indigo-600",children:"Account"}),Object(S.jsx)(P,{children:a?Object(S.jsxs)("div",{children:[Object(S.jsxs)("div",{className:"flex items-center justify-between",children:[Object(S.jsxs)("div",{className:"flex items-center",children:[Object(S.jsx)("img",{className:"rounded-full",width:96,height:96,src:a.imageUrl,alt:"google profile icon"}),Object(S.jsxs)("div",{className:"ml-4",children:[Object(S.jsx)("h4",{className:"text-3xl font-semibold text-gray-700",children:a.name}),Object(S.jsx)("h6",{className:"text-2xl font-semibold text-gray-500",children:a.email})]})]}),Object(S.jsx)("div",{children:Object(S.jsx)(q.GoogleLogout,{clientId:"192216114574-6vvglitrjul91ksp3mn462c5ou95n0ft.apps.googleusercontent.com",onLogoutSuccess:function(){Q.a.remove("token"),s(v(null)),s(y(c.CLEARED))},render:function(e){return Object(S.jsxs)(C,{onClick:e.onClick,disabled:e.disabled,className:"px-6",children:[Object(S.jsx)("img",{src:U,alt:"signout icon"}),Object(S.jsx)("span",{className:"ml-2",children:"SIGN OUT"})]})}})})]}),Object(S.jsx)("p",{className:"text-xl font-medium text-gray-700 pt-2",children:"You are using an account to store your typing data on our servers in the cloud. You will be able to access your profile from any computer or browser."})]}):Object(S.jsxs)("div",{children:[Object(S.jsx)("p",{className:"text-xl font-medium text-gray-700 py-2",children:"Create an account to store your typing data on our servers in the cloud. This allows you to access your profile from any computer or browser. If you don't have an account then your typing data is stored locally and is accessible only from your current computer."}),Object(S.jsx)("p",{className:"text-xl font-medium text-gray-700",children:"We don't store any passwords. Instead we use third-party services to authenticate our users."}),Object(S.jsx)("div",{className:"flex mb-2 mt-6 justify-center",children:Object(S.jsx)(G.a,{clientId:"192216114574-6vvglitrjul91ksp3mn462c5ou95n0ft.apps.googleusercontent.com",buttonText:"Sign in with Google",theme:"dark",onSuccess:n,onFailure:function(e){},cookiePolicy:"single_host_origin"})})]})})]})},H=s.p+"static/media/laptop.0b218297.png",J=function(e){var t=e.title,s=e.value,c=e.icon;return Object(S.jsxs)(P,{className:"flex",children:[Object(S.jsx)("div",{className:"bg-indigo-600 p-3 rounded-lg mr-4",children:Object(S.jsx)("img",{width:36,height:36,src:c,alt:"stat icon"})}),Object(S.jsxs)("div",{children:[Object(S.jsx)("span",{className:"text-2xl font-bold",children:t}),Object(S.jsx)("p",{className:"text-lg text-gray-500 font-medium",children:s})]})]})},V=s.p+"static/media/code.9866ea0c.svg",Y=s.p+"static/media/chart.4a87ab3e.svg",X=function(){return Object(S.jsxs)("div",{"data-testid":"home",children:[Object(S.jsx)("h1",{className:"mt-4 mb-2 text-center text-5xl font-bold text-indigo-600",children:"Typing Practice for Frontend Developers"}),Object(S.jsx)("img",{src:H,alt:"preview img",width:"60%",className:"m-auto"}),Object(S.jsxs)("div",{className:"flex gap-4",children:[Object(S.jsx)(J,{title:"Source code",value:"Choose from: JavaScript, TypeScript, CSS, React",icon:V}),Object(S.jsx)(J,{title:"Typing speed",value:"Increase your Typing Speed & Accuracy",icon:Y})]}),Object(S.jsxs)("div",{className:"mt-6 flex flex-col items-center",children:[Object(S.jsx)("h3",{className:"text-3xl font-bold text-indigo-600 text-center",children:"It's free, just sign in."}),Object(S.jsx)(u.b,{to:"/account",children:Object(S.jsx)(C,{className:"px-6 my-3 text-xl",children:"Sign in with Google"})})]})]})},Z=s.p+"static/media/accuracy.f1c87661.svg",$=s.p+"static/media/error.17ca952d.svg",ee=s.p+"static/media/keyboard.cf1160cc.svg",te=s.p+"static/media/restart.c416dbc2.svg",se=s.p+"static/media/speed.4318be64.svg",ce=s.p+"static/media/start.53fe4eb8.svg",ae=s(170),ne=s.n(ae),re=function(e){var t=e.children,s=e.isOpen,c=e.setIsOpen,a=e.shouldCloseOnOverlayClick,n=void 0===a||a,r=e.maxWidth,l={overlay:{zIndex:1,backgroundColor:"#00000055"},content:{maxWidth:"".concat(void 0===r?768:r,"px"),width:"100%",top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",border:"none"}};return Object(S.jsx)(ne.a,{closeTimeoutMS:150,shouldCloseOnOverlayClick:n,isOpen:s,onRequestClose:function(){return c(!1)},style:l,contentLabel:"Modal",ariaHideApp:!1,children:t})},le=function(e){var t=e.value,s=e.color,c=e.size,a=void 0===c?"normal":c;return Object(S.jsx)("div",{className:"flex items-center ".concat("normal"===a?"text-sm px-3":"text-lg px-4 py-0.5"," bg-").concat(s,"-200 text-").concat(s,"-800 rounded-full font-semibold"),children:t})},ie=function(e){var t=e.difficulty,s=e.size;return Object(S.jsx)(le,{color:"easy"===t?"green":"medium"===t?"yellow":"red",value:t[0].toUpperCase()+t.slice(1),size:s})},oe=function(e){var t=e.value,s=e.customKeyClass,c=e.className,a="string"!==typeof t,n=a?"key-".concat(t[0]," key-").concat(t[1]):"key-".concat(t);return Object(S.jsx)("li",{className:"".concat(s||n.toLowerCase()," ").concat(c||""," flex items-center flex-col justify-center w-12 h-12 bg-white m-0.5"),children:a?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("span",{children:"".concat(t[0])}),Object(S.jsx)("span",{children:"".concat(t[1])})]}):"".concat(t)})},de=function(e){var t=e.isLessonEnded,s=e.children,c=Object(a.useRef)(null),n=Object(a.useRef)(null),r=function(e,t){if(c.current&&c.current.children[1]){var s=e.location;Array.from(c.current.children[1].children).forEach((function(c){Array.from(c.children).forEach((function(c){(c.classList.contains("key-".concat("".concat(e.key.toLowerCase()).concat(s?"-".concat(s):"")))||" "===e.key&&c.classList.contains("key-space"))&&t(c)}))}))}};if(t){var l=n.current;l.classList.remove("bg-indigo-800"),l.classList.remove("text-white")}return Object(S.jsxs)("div",{"data-testid":"keyboard",ref:c,onKeyDown:function(e){r(e,(function(e){n.current=e,e.classList.add("bg-indigo-800"),e.classList.add("text-white")}))},onKeyUp:function(e){r(e,(function(e){e.classList.remove("bg-indigo-800"),e.classList.remove("text-white")}))},children:[s,Object(S.jsxs)("div",{className:"m-auto max-w-3.5xl w-full bg-gray-400 rounded-xl p-5 text-indigo-800",children:[Object(S.jsxs)("ul",{className:"flex text-base leading-5",children:[Object(S.jsx)(oe,{value:["~","`"]}),Object(S.jsx)(oe,{value:["!","1"]}),Object(S.jsx)(oe,{value:["@","2"]}),Object(S.jsx)(oe,{value:["#","3"]}),Object(S.jsx)(oe,{value:["$","4"]}),Object(S.jsx)(oe,{value:["%","5"]}),Object(S.jsx)(oe,{value:["^","6"]}),Object(S.jsx)(oe,{value:["&","7"]}),Object(S.jsx)(oe,{value:["*","8"]}),Object(S.jsx)(oe,{value:["(","9"]}),Object(S.jsx)(oe,{value:[")","0"]}),Object(S.jsx)(oe,{value:["_","-"]}),Object(S.jsx)(oe,{value:["+","="]}),Object(S.jsx)(oe,{value:"Backspace",className:"bg-gray-200 w-24"})]}),Object(S.jsxs)("ul",{className:"flex text-base leading-5",children:[Object(S.jsx)(oe,{value:"Tab",className:"bg-gray-200 w-20"}),Object(S.jsx)(oe,{value:"Q"}),Object(S.jsx)(oe,{value:"W"}),Object(S.jsx)(oe,{value:"E"}),Object(S.jsx)(oe,{value:"R"}),Object(S.jsx)(oe,{value:"T"}),Object(S.jsx)(oe,{value:"Y"}),Object(S.jsx)(oe,{value:"U"}),Object(S.jsx)(oe,{value:"I"}),Object(S.jsx)(oe,{value:"O"}),Object(S.jsx)(oe,{value:"P"}),Object(S.jsx)(oe,{value:["{","["]}),Object(S.jsx)(oe,{value:["}","]"]}),Object(S.jsx)(oe,{value:["|","\\"],className:"w-16"})]}),Object(S.jsxs)("ul",{className:"flex text-base leading-5",children:[Object(S.jsx)(oe,{value:"Caps Lock",customKeyClass:"key-capslock",className:"bg-gray-200 w-24"}),Object(S.jsx)(oe,{value:"A"}),Object(S.jsx)(oe,{value:"S"}),Object(S.jsx)(oe,{value:"D"}),Object(S.jsx)(oe,{value:"F"}),Object(S.jsx)(oe,{value:"G"}),Object(S.jsx)(oe,{value:"H"}),Object(S.jsx)(oe,{value:"J"}),Object(S.jsx)(oe,{value:"K"}),Object(S.jsx)(oe,{value:"L"}),Object(S.jsx)(oe,{value:[":",";"]}),Object(S.jsx)(oe,{value:['"',"'"]}),Object(S.jsx)(oe,{value:"Enter",className:"bg-gray-200 w-25"})]}),Object(S.jsxs)("ul",{className:"flex text-base leading-5",children:[Object(S.jsx)(oe,{value:"Shift",customKeyClass:"key-shift-1",className:"bg-gray-200 w-28"}),Object(S.jsx)(oe,{value:"Z"}),Object(S.jsx)(oe,{value:"X"}),Object(S.jsx)(oe,{value:"C"}),Object(S.jsx)(oe,{value:"V"}),Object(S.jsx)(oe,{value:"B"}),Object(S.jsx)(oe,{value:"N"}),Object(S.jsx)(oe,{value:"M"}),Object(S.jsx)(oe,{value:["<",","]}),Object(S.jsx)(oe,{value:[">","."]}),Object(S.jsx)(oe,{value:["?","/"]}),Object(S.jsx)(oe,{value:"Shift",customKeyClass:"key-shift-2",className:"bg-gray-200 w-34"})]}),Object(S.jsxs)("ul",{className:"flex text-base leading-5",children:[Object(S.jsx)(oe,{value:"Ctrl",customKeyClass:"key-control-1",className:"bg-gray-200 w-20"}),Object(S.jsx)(oe,{value:"Alt",customKeyClass:"key-alt-1",className:"bg-gray-200 w-20"}),Object(S.jsx)(oe,{value:"",customKeyClass:"key-space",className:"w-98"}),Object(S.jsx)(oe,{value:"Alt",customKeyClass:"key-alt-2",className:"bg-gray-200 w-20"}),Object(S.jsx)(oe,{value:"Ctrl",customKeyClass:"key-control-2",className:"bg-gray-200 w-20"})]})]})]})},je=Object(W.a)({reducerPath:"lessonApi",tagTypes:["Lesson"],baseQuery:Object(M.d)({baseUrl:"/api/"}),endpoints:function(e){return{getLesson:e.query({query:function(e){return"lessons/".concat(e)}}),getRandomLessonId:e.query({query:function(e){return"lessons/random/".concat(e)}}),createAttempt:e.mutation({query:function(e){return{url:"/attempts",method:"POST",body:e}},invalidatesTags:["Lesson"]})}}}),ue=je.useGetLessonQuery,be=je.useGetRandomLessonIdQuery,xe=je.useCreateAttemptMutation,me=Object(W.a)({reducerPath:"sectionApi",baseQuery:Object(M.d)({baseUrl:"/api/sections"}),endpoints:function(e){return{getSections:e.query({query:function(){return""}}),getSectionById:e.query({query:function(e){return"/".concat(e)}})}}}),he=me.useGetSectionsQuery,Oe=me.useGetSectionByIdQuery,fe=function(e){return e.replace(/\\n/g,"\n").replace(/\\t/g,"\t")},ge=function(){var e=Object(A.g)(),t=ue(e.lessonId).data,s=xe(),c=Object(D.a)(s,1)[0],n=K(),r=Object(a.useRef)(null),l=Object(a.useRef)(null),i=Object(a.useState)(!0),o=Object(D.a)(i,2),d=o[0],j=o[1],b=function(e){var t=Object(a.useState)(e),s=Object(D.a)(t,2),c=s[0],n=s[1],r=c;return{get:function(){return r},set:function(e){return r=e,n(e),r}}}({wpm:0,accuracy:100}),x=function(e){var t,s=Object(a.useState)(null===(t=e.current)||void 0===t?void 0:t.children[0]),c=Object(D.a)(s,2),n=c[0],r=c[1],l=Object(a.useState)({total:0,wrong:0}),i=Object(D.a)(l,2),o=i[0],d=i[1],j=Object(a.useState)(!1),u=Object(D.a)(j,2),b=u[0],x=u[1],m=function(t){if(!t&&e.current)return e.current.classList.add("overflow-y-hidden"),x(!0);r(t),t.classList.add("bg-green-500"),t.classList.add("text-white"),t.scrollIntoView({block:"center",behavior:"smooth"})},h=function(e){return e.forEach((function(e){return null===n||void 0===n?void 0:n.classList.remove(e)}))};return Object(a.useEffect)((function(){var t;r(null===(t=e.current)||void 0===t?void 0:t.children[0])}),[e]),{currentChar:n,setCurrentChar:r,handleInput:function(t){if(n&&e.current){var s=Array.from(e.current.children),c=s.indexOf(n),a=!!n.classList.contains("bg-red-500");if("Backspace"===t.key&&a)return n.classList.add("bg-green-500"),void h(["bg-red-500"]);if("Backspace"===t.key&&0!==c){h(["text-white","text-black","bg-red-500","bg-green-500"]);for(var r=1;"\t"===s[c-r].textContent;)r++;return m(s[c-r])}if(("Backspace"!==t.key||0!==c)&&!a&&"Shift"!==t.key){if("Enter"===t.key&&"\n"===n.textContent){h(["bg-green-500"]);for(var l=1;"\t"===s[c+l].textContent;)l++;return m(s[c+l])}d((function(e){return Object(I.a)(Object(I.a)({},e),{},{total:e.total+1})})),t.key===n.textContent?(h(["text-white","bg-red-500","bg-green-500"]),n.classList.add("text-black"),m(s[c+1])):(h(["bg-green-500"]),n.classList.add("bg-red-500"),d((function(e){return Object(I.a)(Object(I.a)({},e),{},{wrong:e.wrong+1})})))}}},typed:o,isLessonEnded:b}}(l),m=x.currentChar,h=x.setCurrentChar,O=x.typed,f=x.isLessonEnded,g=x.handleInput,p=function(e){var t=Object(a.useState)({second:"00",minute:"00",time:0}),s=Object(D.a)(t,2),c=s[0],n=s[1],r=function(e){var t=String(e%60),s=String(Math.floor(e/60)),c=1===t.length?"0".concat(t):t,a=1===s.length?"0".concat(s):s;n({second:c,minute:a,time:e})};return Object(a.useEffect)((function(){var t;return e&&(t=setTimeout((function(){return r(c.time+1)}),1e3)),function(){return clearTimeout(t)}}),[e,c]),{counter:c,restartCounter:function(){return r(0)}}}(!d&&!f).counter;return Object(a.useEffect)((function(){var e=+((O.total-O.wrong)/5/(p.time+.1)*60).toFixed(0),t=+((O.total-O.wrong)/(O.total+1e-5)*100).toFixed(0);b.set({wpm:e>0?e:0,accuracy:0===t?100:t})}),[O,p.time]),Object(a.useEffect)((function(){var e;t&&h(null===(e=l.current)||void 0===e?void 0:e.children[0])}),[t,h]),Object(a.useEffect)((function(){if(f&&t){var s={lesson:t._id,accuracy:b.get().accuracy,wpm:b.get().wpm,time:p.time,numberOfErrors:O.wrong};c(s).then((function(){n(me.endpoints.getSectionById.initiate(e.sectionId,{subscribe:!1,forceRefetch:!0}))}))}}),[f]),Object(S.jsxs)("div",{"data-testid":"lesson",className:"my-4",children:[Object(S.jsxs)("div",{className:"flex items-center justify-between",children:[Object(S.jsx)("div",{className:"flex items-center",children:!!t&&Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("h3",{className:"text-3xl font-semibold mr-4",children:t.name}),Object(S.jsx)(ie,{difficulty:t.difficulty,size:"large"})]})}),Object(S.jsxs)("div",{className:"flex items-center",children:[Object(S.jsx)("h4",{className:"text-2xl font-semibold mr-2 text-gray-500",children:"Time:"}),Object(S.jsx)("h4",{className:"text-3xl font-semibold mr-4 w-20",children:"".concat(p.minute,":").concat(p.second)}),Object(S.jsxs)(C,{onClick:function(){window.location.reload()},children:[Object(S.jsx)("img",{className:"mr-1",src:te,width:24,height:24,alt:"restart icon"}),"Restart"]})]})]}),Object(S.jsx)(de,{isLessonEnded:f,children:Object(S.jsxs)(P,{className:"my-4",children:[Object(S.jsxs)("div",{className:"flex gap-6",children:[Object(S.jsx)(pe,{name:"Speed",measure:"WPM",value:b.get().wpm,icon:se}),Object(S.jsx)(pe,{name:"Accuracy",measure:"%",value:b.get().accuracy,icon:Z}),Object(S.jsx)(pe,{name:"Typed",measure:"CHARS",value:O.total,icon:ee}),Object(S.jsx)(pe,{name:"Errors",measure:"CHARS",value:O.wrong,icon:$})]}),Object(S.jsxs)("div",{className:"relative mt-2 ",children:[Object(S.jsx)("pre",{ref:l,className:"text-base text-gray-500 font-medium font-mono h-44 max-h-44 overflow-y-scroll",children:t&&fe(t.code).split("").map((function(e,t){return Object(S.jsx)("span",{className:"\n"===e?"before:enter text-white px-1":"",children:e},t)}))}),Object(S.jsxs)("div",{className:"transition-all absolute top-0 min-w-full min-h-full bg-white opacity-0 ".concat(f?"visible opacity-100":"invisible"," flex items-center justify-center flex-col"),children:[Object(S.jsx)("h3",{className:"text-4xl text-indigo-600 font-semibold",children:"Congratulation!"}),Object(S.jsx)("h4",{className:"text-2xl text-gray-500 font-semibold",children:"You have passed the lesson, you can start the next lesson or try again"}),Object(S.jsxs)("div",{className:"flex gap-4 w-1/2 mt-4",children:[Object(S.jsx)(u.b,{className:"w-full",to:"/lessons/".concat(e.sectionId,"/random"),children:Object(S.jsx)(C,{fullWidth:!0,children:"Next lesson"})}),Object(S.jsx)(u.b,{className:"w-full",to:"/lessons/".concat(e.sectionId),children:Object(S.jsx)(C,{fullWidth:!0,children:"See more lessons"})})]})]})]}),!f&&Object(S.jsx)("input",{ref:r,onBlur:function(){var e;return null===r||void 0===r||null===(e=r.current)||void 0===e?void 0:e.focus()},onKeyDown:g,className:"fixed -left-full"})]})}),Object(S.jsx)(re,{isOpen:d,setIsOpen:j,shouldCloseOnOverlayClick:!1,maxWidth:500,children:Object(S.jsxs)("div",{className:"flex flex-col items-center",children:[Object(S.jsx)("div",{className:"bg-indigo-200 p-3 rounded-lg w-20",children:Object(S.jsx)("img",{width:64,height:64,src:ce,alt:"start icon"})}),Object(S.jsx)("h4",{className:"text-3xl font-semibold py-4",children:"Please be prepared. Good luck!"}),Object(S.jsx)(C,{fullWidth:!0,onClick:function(){var e;m&&(j(!1),null===r||void 0===r||null===(e=r.current)||void 0===e||e.focus(),m.classList.add("bg-green-500"),m.classList.add("text-white"))},disabled:!t,children:t?"Start Typing Now":"Loading..."})]})})]})},pe=function(e){var t=e.name,s=e.measure,c=e.value,a=e.icon;return Object(S.jsxs)("div",{className:"flex items-end max-h-8 max-w-s w-full",children:[Object(S.jsxs)("div",{className:"flex items-end opacity-50 mr-1",children:[Object(S.jsx)("img",{className:"mr-1",src:a,width:32,height:32,alt:a}),Object(S.jsxs)("span",{className:"text-lg font-semibold",children:[t,":"]})]}),Object(S.jsxs)("div",{className:"text-indigo-600",children:[Object(S.jsx)("span",{className:"text-3xl font-bold ",children:c}),Object(S.jsx)("span",{className:"text-xs font-semibold",children:s})]})]})},ve=s(69),ye=s.p+"static/media/close.244b6687.svg",Ne=function(e){var t=e.value,s=0===t?"gray":t<40?"red":t<80?"yellow":"green";return Object(S.jsx)(le,{color:s,value:"".concat(t,"%")})},we=function(e){var t=e._id,s=e.name,c=e.code,n=e.source,r=e.sourceCode,l=e.difficulty,i=e.avgAccuracy,o=e.lines,d=e.sectionId,j=Object(a.useState)(!1),b=Object(D.a)(j,2),x=b[0],m=b[1];return Object(S.jsxs)("div",{className:"p-4 rounded-md shadow-sm bg-white w-1/3 -mx-4",children:[Object(S.jsxs)("div",{className:"flex items-center justify-between pb-1",children:[Object(S.jsx)("h3",{className:"text-3xl font-semibold",children:s}),Object(S.jsx)(ke,{source:n,sourceCode:r})]}),Object(S.jsxs)("div",{className:"flex justify-between pb-1.5",children:[Object(S.jsx)("h5",{className:"text-1xl font-semibold text-gray-500",children:"Accuracy"}),Object(S.jsx)(Ne,{value:i})]}),Object(S.jsxs)("div",{className:"flex justify-between pb-1.5",children:[Object(S.jsx)("h5",{className:"text-1xl font-semibold text-gray-500",children:"Difficulty"}),Object(S.jsx)(ie,{difficulty:l})]}),Object(S.jsxs)("div",{className:"flex justify-between pb-3",children:[Object(S.jsx)("h5",{className:"text-1xl font-semibold text-gray-500",children:"Size"}),Object(S.jsx)("span",{className:"text-base font-semibold",children:"".concat(o," lines")})]}),Object(S.jsxs)("div",{className:"flex gap-4 w-full",children:[Object(S.jsx)(u.b,{className:"w-full",to:"/lessons/".concat(d,"/").concat(t),children:Object(S.jsx)(C,{fullWidth:!0,children:"Start"})}),Object(S.jsxs)("div",{className:"w-full group",children:[Object(S.jsx)(C,{fullWidth:!0,variant:"secondary",onClick:function(){return m(!0)},children:"Overview"}),Object(S.jsxs)(re,{isOpen:x,setIsOpen:m,children:[Object(S.jsxs)("div",{className:"flex justify-between",children:[Object(S.jsx)("h3",{className:"text-3xl font-semibold",children:s}),Object(S.jsx)("button",{onClick:function(){return m(!1)},children:Object(S.jsx)("img",{className:"opacity-50 hover:opacity-100",width:32,height:32,src:ye,alt:"lang icon"})})]}),Object(S.jsx)("pre",{className:"my-4 max-h-96 overflow-y-scroll",children:fe(c)}),Object(S.jsx)(u.b,{className:"w-full",to:"/lessons/".concat(d,"/").concat(t),children:Object(S.jsx)(C,{fullWidth:!0,children:"Start"})})]})]})]})]})},ke=function(e){var t=e.source,s=e.sourceCode;return Object(S.jsxs)("div",{className:"relative group inline-block text-left pb-1",children:[Object(S.jsxs)("button",{type:"button",className:"inline-flex justify-center w-full rounded-md border border-gray-300 shadow-sm px-2.5 py-1.5 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50",children:["Details",Object(S.jsx)("svg",{className:"-mr-1 ml-1 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:Object(S.jsx)("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),Object(S.jsx)("div",{className:"transition-all overflow-hidden h-0 opacity-0 group-focus-within:h-auto group-focus-within:opacity-100 origin-top-right absolute right-0 mt-2 w-40 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none",children:Object(S.jsxs)("div",{className:"py-1",children:[Object(S.jsx)("a",{href:t,className:"text-gray-700 block px-4 py-2 text-sm hover:bg-gray-50",target:"_blank",rel:"noreferrer",children:"Source"}),Object(S.jsx)("a",{href:s,className:"text-gray-700 block px-4 py-2 text-sm hover:bg-gray-50",target:"_blank",rel:"noreferrer",children:"Source code"})]})})]})},Se=function(){return Object(S.jsxs)("div",{className:"p-4 rounded-md shadow-sm bg-white w-1/3 -mx-4",children:[Object(S.jsxs)("div",{className:"flex items-center justify-between pb-1",children:[Object(S.jsx)("h3",{className:"bg-gray-300 animate-pulse text-transparent rounded-lg text-3xl font-semibold",children:"Class Expressions"}),Object(S.jsx)("div",{className:"bg-gray-300 animate-pulse text-transparent text-3xl rounded-lg",children:"details"})]}),Object(S.jsxs)("div",{className:"flex justify-between pb-1.5",children:[Object(S.jsx)("h5",{className:"bg-gray-300 animate-pulse text-transparent rounded-lg text-1xl font-semibold",children:"Accuracy"}),Object(S.jsx)("div",{className:"bg-gray-300 animate-pulse text-transparent rounded-lg",children:"badge"})]}),Object(S.jsxs)("div",{className:"flex justify-between pb-1.5",children:[Object(S.jsx)("h5",{className:"bg-gray-300 animate-pulse text-transparent rounded-lg text-1xl font-semibold",children:"Difficulty"}),Object(S.jsx)("div",{className:"bg-gray-300 animate-pulse text-transparent rounded-lg",children:"badge"})]}),Object(S.jsxs)("div",{className:"flex justify-between pb-3",children:[Object(S.jsx)("h5",{className:"bg-gray-300 animate-pulse text-transparent rounded-lg text-1xl font-semibold",children:"Size"}),Object(S.jsx)("span",{className:"bg-gray-300 animate-pulse text-transparent rounded-lg text-base font-semibold",children:"20 lines"})]}),Object(S.jsx)("div",{className:"h-11 bg-gray-300 animate-pulse flex gap-4 w-full rounded-lg"})]})},Ce=function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:400,c=Object(a.useState)(!1),n=Object(D.a)(c,2),r=n[0],l=n[1],i=t(e,{skip:r}),o=i.data;return Object(a.useEffect)((function(){o||l(!0);var e=setTimeout((function(){l(!1)}),s);return function(){return clearTimeout(e)}}),[o,s]),o},Le=s.p+"static/media/empty.04958912.png",Ee=function(){var e=Object(A.g)(),t=Ce(e.sectionId,Oe);return Object(S.jsxs)("div",{className:"my-4","data-testid":"lessons",children:[Object(S.jsx)("h1",{className:"text-center text-4xl font-bold text-indigo-600 ".concat(t?"visible":"invisible"),children:"".concat(t?t.name:"Section"," lessons")}),Object(S.jsx)("h2",{className:"my-3 text-center text-3xl font-semibold text-gray-500",children:"Choose and start your lesson"}),Object(S.jsx)("div",{className:"my-8 w-full flex flex-wrap justify-center gap-y-4 gap-x-12 px-4",children:t?t.lessons.length?t.lessons.map((function(t,s){return Object(a.createElement)(we,Object(I.a)(Object(I.a)({},t),{},{key:t._id,sectionId:e.sectionId}))})):Object(S.jsxs)("div",{className:"flex flex-col items-center",children:[Object(S.jsx)("img",{width:256,height:256,src:Le,alt:"empty icon"}),Object(S.jsx)("h2",{className:"my-2 text-2xl font-semibold text-gray-500",children:"Oops! No lessons"}),Object(S.jsx)(u.b,{to:"/",children:Object(S.jsx)(C,{children:"Go to homepage"})})]}):Object(ve.a)(Array(6)).map((function(e,t){return Object(S.jsx)(Se,{},t)}))})]})},Ie=s.p+"static/media/avgSpeed.e2782f24.svg",Re=s.p+"static/media/lesson.3766c0fe.svg",Ae=s.p+"static/media/topSpeed.323da0f3.svg",Te=s.p+"static/media/upload.f3fc7029.svg",De=function(e){var t=e.title,s=e.value,c=e.icon;return Object(S.jsxs)(P,{className:"flex",children:[Object(S.jsx)("div",{className:"bg-indigo-600 p-3 rounded-lg mr-4",children:Object(S.jsx)("img",{width:36,height:36,src:c,alt:"stat icon"})}),Object(S.jsxs)("div",{children:[Object(S.jsx)("span",{className:"text-lg text-gray-500 font-medium",children:t}),Object(S.jsx)("p",{className:"text-3xl font-bold",children:s})]})]})},Pe=function(){return Object(S.jsxs)("div",{className:"p-4 rounded-md shadow-sm bg-white w-full flex",children:[Object(S.jsx)("div",{className:"bg-gray-300 animate-pulse mr-4 rounded-lg w-16 h-16 "}),Object(S.jsxs)("div",{className:"w-3/5",children:[Object(S.jsx)("div",{className:"bg-gray-300 animate-pulse rounded-lg w-full h-6 mb-3"}),Object(S.jsx)("div",{className:"bg-gray-300 animate-pulse rounded-lg w-3/5 h-7"})]})]})},qe=s(347),Ge=s(348),Ue=s(352),Ke=s(184),We=s(185),Me=s(87),_e=s(187),Be=Object(W.a)({reducerPath:"userApi",baseQuery:Object(M.d)({baseUrl:"/api/users/"}),refetchOnMountOrArgChange:!0,endpoints:function(e){return{getUserProfile:e.query({query:function(){return"profile"}})}}}),ze=Be.useGetUserProfileQuery,Qe=function(){var e=Ce(null,ze);return Object(S.jsxs)("div",{className:"my-4","data-testid":"sections",children:[Object(S.jsx)("h1",{className:"text-center text-4xl font-bold text-indigo-600",children:"My Profile"}),Object(S.jsx)("h2",{className:"my-3 text-center text-2xl font-semibold text-gray-500",children:"Here you can see detailed statistics about your learning progress"}),Object(S.jsx)("div",{className:"my-8",children:Object(S.jsx)("div",{className:"flex gap-4 my-4",children:e?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(De,{title:"Total Time",value:e.totalTime,icon:Te}),Object(S.jsx)(De,{title:"Total Lessons",value:e.totalLessons,icon:Re}),Object(S.jsx)(De,{title:"Top Speed",value:e.topSpeed,icon:Ae}),Object(S.jsx)(De,{title:"Avg Speed",value:e.averageSpeed,icon:Ie})]}):Object(ve.a)(Array(4)).map((function(e,t){return Object(S.jsx)(Pe,{},t)}))})}),Object(S.jsxs)("div",{children:[Object(S.jsx)("h3",{className:"text-center text-3xl font-semibold text-indigo-600",children:"Typing speed"}),Object(S.jsx)("h4",{className:"my-3 text-center text-2xl font-medium text-gray-500",children:"This chart shows how overall typing speed changes over time."}),e?Object(S.jsxs)(P,{className:"min-h-98 ",children:[Object(S.jsx)(qe.a,{width:"99%",height:400,children:Object(S.jsxs)(Ge.a,{width:1200,height:400,data:e.typingChart,margin:{top:16,right:16,left:16},style:{cursor:"pointer"},children:[Object(S.jsx)(Ue.a,{}),Object(S.jsx)(Ke.a,{dataKey:"lessonNumber"}),Object(S.jsx)(We.a,{dataKey:"wpm",unit:"wpm"}),Object(S.jsx)(Me.a,{}),Object(S.jsx)(_e.a,{type:"monotone",dataKey:"wpm",stroke:"#4F46E5",strokeWidth:2})]})}),Object(S.jsx)("h4",{className:"text-center",children:"Horizontal axis: lesson number. Vertical axis: wpm"})]}):Object(S.jsx)("div",{className:"flex justify-center items-center mt-16",children:Object(S.jsx)("div",{className:"\r animate-spin\r rounded-full\r h-32\r w-32\r border-t-4 border-b-4 border-indigo-700\r "})})]})]})},Fe=s.p+"static/media/css.0147f3ff.svg",He=s.p+"static/media/js.70193d7d.svg",Je=s.p+"static/media/react.8cdaf781.svg",Ve=s.p+"static/media/ts.4c2e88c3.svg",Ye=function(e){var t=e._id,s=e.name,c=e.route,a=e.description,n=e.iconStyle,r=be(t).data;return Object(S.jsxs)("div",{className:"p-4 rounded-md shadow-sm bg-white w-1/2 -mx-2",children:[Object(S.jsxs)("div",{className:"flex items-center pb-2",children:[Object(S.jsx)("div",{className:"".concat(n.color," p-3 rounded-lg"),children:Object(S.jsx)("img",{width:32,height:32,src:n.src,alt:"lang icon"})}),Object(S.jsx)("h3",{className:"ml-4 text-4xl font-semibold",children:s})]}),Object(S.jsx)("p",{className:"text-lg my-1 text-gray-500",children:a}),Object(S.jsxs)("div",{className:"flex gap-4 mt-3 w-full",children:[Object(S.jsx)(u.b,{className:"flex-shrink-0",to:"/lessons/".concat(c).concat((null===r||void 0===r?void 0:r.lessonId)?"/".concat(null===r||void 0===r?void 0:r.lessonId):""),children:Object(S.jsx)(C,{disabled:!r,children:"Pick Random lesson"})}),Object(S.jsx)(u.b,{className:"w-full",to:"/lessons/".concat(c),children:Object(S.jsx)(C,{variant:"secondary",fullWidth:!0,children:"Explore lessons"})})]})]})},Xe=function(){return Object(S.jsxs)("div",{className:"p-4 rounded-md shadow-sm bg-white w-1/2 -mx-2",children:[Object(S.jsxs)("div",{className:"flex items-center pb-2",children:[Object(S.jsx)("div",{className:"bg-gray-300 animate-pulse p-3 rounded-lg",children:Object(S.jsx)("div",{className:"w-8 h-8"})}),Object(S.jsx)("div",{className:"bg-gray-300 animate-pulse ml-4 text-4xl text-transparent font-semibold w-1/2 rounded-lg",children:"JavaScript"})]}),Object(S.jsx)("p",{className:"bg-gray-300 animate-pulse text-lg my-1 text-transparent rounded-lg",children:"Improve your speed in writing functions, algorithms, generics, types and interfaces, using examples from the documentation"}),Object(S.jsx)("div",{className:"h-11 bg-gray-300 animate-pulse flex gap-4 mt-3 w-full rounded-lg"})]})},Ze=function(){var e=Ce(null,he);return Object(S.jsxs)("div",{className:"my-4","data-testid":"sections",children:[Object(S.jsx)("h1",{className:"text-center text-4xl font-bold text-indigo-600",children:"Improve your Typing with Open Source Code"}),Object(S.jsx)("h2",{className:"my-3 text-center text-3xl font-semibold text-gray-500",children:"Choose one section of frontend development"}),Object(S.jsxs)("div",{className:"my-8 w-full flex flex-wrap justify-center gap-y-4 gap-x-8",children:[e?e.map((function(e){return Object(S.jsx)(Ye,{_id:e._id,route:e.route,name:e.name,description:e.description,iconStyle:$e(e.name)},e._id)})):Object(ve.a)(Array(4)).map((function(e,t){return Object(S.jsx)(Xe,{},t)})),Object(S.jsxs)("div",{className:"w-1/2 -mx-2 border-4 border-dashed border-gray-400 p-6 flex flex-col items-center justify-center",children:[Object(S.jsx)(u.b,{to:"/lessons",children:Object(S.jsx)("div",{className:"flex items-center pb-2",children:Object(S.jsx)("div",{className:"bg-indigo-600 hover:bg-indigo-700 p-3 rounded-lg",children:Object(S.jsx)("img",{width:32,height:32,src:Te,alt:"upload icon"})})})}),Object(S.jsx)("h4",{className:"font-semibold text-3xl",children:"Create custom section"}),Object(S.jsx)("div",{className:"text-lg font-semibold text-gray-500",children:"Here you can create custom lesson with your code"})]})]})]})},$e=function(e){switch(e){case"JavaScript":return{src:He,color:"bg-yellow-400"};case"TypeScript":return{src:Ve,color:"bg-blue-600"};case"CSS":return{src:Fe,color:"bg-green-500"};case"React and Redux":return{src:Je,color:"bg-lightBlue"};default:return{src:Te,color:"bg-gray-400"}}},et=function(){var e=Object(a.useState)(""),t=Object(D.a)(e,2),s=t[0],c=t[1];return Object(S.jsxs)("div",{children:[Object(S.jsx)("textarea",{tabIndex:10,onKeyDown:function(e){"Tab"===e.key&&e.preventDefault()},onChange:function(e){console.log(e.target.value),c(e.target.value)},value:s,cols:100,rows:10}),Object(S.jsx)("button",{onClick:function(){console.log(function(e){for(var t="",s=1,c=0;c<e.length;c++)" "===e[c]&&"\n"===e[c-s]?s++%2!==0&&(t+="\t"):(s=1,t+=e[c]);return JSON.stringify(t)}(s)),console.log(JSON.stringify(s).split("\\n").length)},children:"Console"})]})};var tt,st=function(){var e=K();return Object(a.useEffect)((function(){e(f())}),[e]),Object(S.jsx)(E,{children:Object(S.jsxs)(A.d,{children:[Object(S.jsx)(T,{path:"/lessons/:sectionId/:lessonId",children:Object(S.jsx)(ge,{})}),Object(S.jsx)(T,{path:"/lessons/:sectionId",children:Object(S.jsx)(Ee,{})}),Object(S.jsx)(A.b,{path:"/lessons",children:Object(S.jsx)(Ze,{})}),Object(S.jsx)(T,{path:"/profile",children:Object(S.jsx)(Qe,{})}),Object(S.jsx)(A.b,{path:"/account",children:Object(S.jsx)(F,{})}),Object(S.jsx)(A.b,{path:"/text",children:Object(S.jsx)(et,{})}),Object(S.jsx)(A.b,{path:"/",children:Object(S.jsx)(X,{})})]})})},ct=s(55),at=Object(h.a)({reducer:(tt={},Object(ct.a)(tt,me.reducerPath,me.reducer),Object(ct.a)(tt,je.reducerPath,je.reducer),Object(ct.a)(tt,Be.reducerPath,Be.reducer),Object(ct.a)(tt,_.reducerPath,_.reducer),Object(ct.a)(tt,"user",k),tt),middleware:function(e){return e().concat([me.middleware,je.middleware,Be.middleware,_.middleware])}});l.a.render(Object(S.jsx)(n.a.StrictMode,{children:Object(S.jsx)(u.a,{children:Object(S.jsx)(j.a,{store:at,children:Object(S.jsx)(st,{})})})}),document.getElementById("root"))}},[[345,1,2]]]);
//# sourceMappingURL=main.bd2d709f.chunk.js.map